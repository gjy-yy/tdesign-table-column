{"version":3,"file":"useColHeaders.js","sources":["../../../src/calendar/hook/useColHeaders.ts"],"sourcesContent":["import { computed } from 'vue';\n\nimport { CellColHeader, CalendarState } from '../interface';\nimport { TdCalendarProps, WeekDay } from '../type';\nimport { useConfig } from '../../hooks/useConfig';\nimport { COMPONENT_NAME } from '../const';\nimport * as utils from '../utils';\n\nexport function useColHeaders(props: TdCalendarProps, state: CalendarState) {\n  const { t, globalConfig } = useConfig(COMPONENT_NAME);\n\n  const weekDipalyText = computed<TdCalendarProps['week']>(() => {\n    return props.week || t(globalConfig.value.week).split(',');\n  });\n  function getWeekDisplay(weekNum: number): string {\n    const weekText = weekDipalyText.value;\n    return typeof weekText === 'object' && weekText[weekNum - 1] ? weekText[weekNum - 1] : utils.getDayCn(weekNum);\n  }\n  const cellColHeaders = computed<CellColHeader[]>(() => {\n    const re: CellColHeader[] = [];\n    const min: WeekDay = 1;\n    const max: WeekDay = 7;\n\n    for (let i = state.realFirstDayOfWeek; i <= max; i++) {\n      re.push({\n        num: i as WeekDay,\n        display: getWeekDisplay(i),\n      });\n    }\n    if (state.realFirstDayOfWeek > min) {\n      for (let i = min; i < state.realFirstDayOfWeek; i++) {\n        re.push({\n          num: i as WeekDay,\n          display: getWeekDisplay(i),\n        });\n      }\n    }\n    return re;\n  });\n\n  return {\n    cellColHeaders,\n  };\n}\n"],"names":["useColHeaders","props","state","useConfig","COMPONENT_NAME","t","globalConfig","weekDipalyText","computed","week","value","split","getWeekDisplay","weekNum","weekText","utils","cellColHeaders","re","min","max","i","realFirstDayOfWeek","push","num","display"],"mappings":";;;;;;;;;;;;;;;;;;;;AAQgB,SAAAA,aAAA,CAAcC,KAAd,EAAsCC,KAAtC,EAA4D;EAC1E,IAA4BC,UAAAA,GAAAA,UAAUC,eAAtC;MAAQC,CAAR,cAAQA,CAAR;MAAWC,YAAX,cAAWA,YAAX,CAAA;;AAEM,EAAA,IAAAC,cAAA,GAAiBC,SAAkC,YAAM;AACtD,IAAA,OAAAP,KAAA,CAAMQ,IAAN,IAAcJ,CAAE,CAAAC,YAAA,CAAaI,KAAb,CAAmBD,IAAnB,CAAF,CAA2BE,KAA3B,CAAiC,GAAjC,CAAd,CAAA;AACR,IAFK,CAAA;;EAGN,SAASC,cAAT,CAAwBC,OAAxB,EAAiD;AAC/C,IAAA,IAAMC,WAAWP,cAAe,CAAAG,KAAhC,CAAA;IACO,OAAA,OAAA,CAAOI,QAAP,CAAA,KAAoB,QAApB,IAAgCA,QAAS,CAAAD,OAAA,GAAU,CAAV,CAAzC,GAAwDC,QAAA,CAASD,OAAU,GAAA,CAAnB,CAAxD,GAAgFE,QAAA,CAAeF,OAAf,CAAhF,CAAA;AACT,GAAA;;AACM,EAAA,IAAAG,cAAA,GAAiBR,SAA0B,YAAM;IACrD,IAAMS,KAAsB,EAA5B,CAAA;IACA,IAAMC,GAAe,GAAA,CAArB,CAAA;IACA,IAAMC,GAAe,GAAA,CAArB,CAAA;;AAEA,IAAA,KAAA,IAASC,CAAI,GAAAlB,KAAA,CAAMmB,kBAAnB,EAAuCD,CAAA,IAAKD,GAA5C,EAAiDC,CAAK,EAAtD,EAAsD;MACpDH,EAAA,CAAGK,IAAH,CAAQ;AACNC,QAAAA,GAAK,EAAAH,CADC;QAENI,OAAA,EAASZ,eAAeQ;OAF1B,CAAA,CAAA;AAIF,KAAA;;AACI,IAAA,IAAAlB,KAAA,CAAMmB,kBAAN,GAA2BH,GAA3B,EAAgC;AAClC,MAAA,KAAA,IAASE,EAAI,GAAAF,GAAb,EAAkBE,EAAI,GAAAlB,KAAA,CAAMmB,kBAA5B,EAAgDD,EAAK,EAArD,EAAqD;QACnDH,EAAA,CAAGK,IAAH,CAAQ;AACNC,UAAAA,GAAK,EAAAH,EADC;UAENI,OAAA,EAASZ,eAAeQ;SAF1B,CAAA,CAAA;AAIF,OAAA;AACF,KAAA;;AACO,IAAA,OAAAH,EAAA,CAAA;AACR,IApBK,CAAA;EAsBC,OAAA;AACLD,IAAAA,cAAA,EAAAA,cAAAA;GADK,CAAA;AAGT;;;;"}