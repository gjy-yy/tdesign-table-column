{"version":3,"file":"input-number.js","sources":["../../src/input-number/input-number.tsx"],"sourcesContent":["import { defineComponent, SetupContext } from 'vue';\nimport {\n  AddIcon as TdAddIcon,\n  RemoveIcon as TdRemoveIcon,\n  ChevronDownIcon as TdChevronDownIcon,\n  ChevronUpIcon as TdChevronUpIcon,\n} from 'tdesign-icons-vue-next';\n\nimport TButton from '../button';\nimport TInput from '../input';\nimport props from './props';\n\n// hooks\nimport { usePrefixClass } from '../hooks/useConfig';\nimport { useGlobalIcon } from '../hooks/useGlobalIcon';\n\nimport { TdInputNumberProps } from './type';\nimport useInputNumber from './useInputNumber';\n\nexport default defineComponent({\n  name: 'TInputNumber',\n  props,\n  // 保持纯净（逻辑和节点渲染分开）\n  setup(props: TdInputNumberProps, context: SetupContext) {\n    const { AddIcon, RemoveIcon, ChevronDownIcon, ChevronUpIcon } = useGlobalIcon({\n      AddIcon: TdAddIcon,\n      RemoveIcon: TdRemoveIcon,\n      ChevronDownIcon: TdChevronDownIcon,\n      ChevronUpIcon: TdChevronUpIcon,\n    });\n    const p = useInputNumber(props);\n    const { inputRef } = p;\n\n    context.expose({ ...p });\n\n    return () => {\n      const reduceIcon =\n        props.theme === 'column' ? <ChevronDownIcon size={props.size} /> : <RemoveIcon size={props.size} />;\n      const addIcon = props.theme === 'column' ? <ChevronUpIcon size={props.size} /> : <AddIcon size={props.size} />;\n      const status = p.isError.value ? 'error' : props.status;\n      return (\n        <div class={p.wrapClasses.value}>\n          {props.theme !== 'normal' && (\n            <TButton\n              class={p.reduceClasses.value}\n              disabled={p.tDisabled.value}\n              onClick={p.handleReduce}\n              variant=\"outline\"\n              shape=\"square\"\n              icon={() => reduceIcon}\n            />\n          )}\n          <TInput\n            ref={inputRef}\n            disabled={p.tDisabled.value}\n            readonly={props.readonly}\n            autocomplete=\"off\"\n            placeholder={props.placeholder}\n            unselectable={props.readonly ? 'on' : 'off'}\n            autoWidth={props.autoWidth}\n            align={props.align || (props.theme === 'row' ? 'center' : undefined)}\n            status={status}\n            label={props.label}\n            suffix={props.suffix}\n            {...p.listeners}\n            {...props.inputProps}\n            v-slots={context.slots}\n            value={p.userInput.value}\n            onChange={p.onInnerInputChange}\n          />\n          {props.theme !== 'normal' && (\n            <TButton\n              class={p.addClasses.value}\n              disabled={p.tDisabled.value}\n              onClick={p.handleAdd}\n              variant=\"outline\"\n              shape=\"square\"\n              icon={() => addIcon}\n            />\n          )}\n          {props.tips && (\n            <div class={`${p.classPrefix.value}-input__tips ${p.classPrefix.value}-input__tips--${status}`}>\n              {props.tips}\n            </div>\n          )}\n        </div>\n      );\n    };\n  },\n});\n"],"names":["defineComponent","name","props","setup","context","useGlobalIcon","AddIcon","TdAddIcon","RemoveIcon","TdRemoveIcon","ChevronDownIcon","TdChevronDownIcon","ChevronUpIcon","TdChevronUpIcon","p","useInputNumber","inputRef","expose","reduceIcon","theme","size","addIcon","status","isError","value","_createVNode","wrapClasses","reduceClasses","tDisabled","handleReduce","TInput","_mergeProps","readonly","placeholder","autoWidth","align","label","suffix","listeners","inputProps","userInput","onInnerInputChange","slots","addClasses","handleAdd","tips","classPrefix"],"mappings":"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"}