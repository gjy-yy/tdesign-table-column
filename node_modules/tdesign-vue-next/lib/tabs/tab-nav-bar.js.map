{"version":3,"file":"tab-nav-bar.js","sources":["../../src/tabs/tab-nav-bar.tsx"],"sourcesContent":["import { defineComponent, PropType, computed, VNode, nextTick, ref, watch, onMounted } from 'vue';\nimport { firstUpperCase } from '../utils/helper';\nimport tabProps from './props';\n\n// hooks\nimport { usePrefixClass } from '../hooks/useConfig';\n\nexport default defineComponent({\n  props: {\n    navs: {\n      type: Array as PropType<VNode[]>,\n    },\n    placement: tabProps.placement,\n    value: tabProps.value,\n  },\n  setup(props) {\n    const COMPONENT_NAME = usePrefixClass('tabs');\n    const classPrefix = usePrefixClass();\n    const navBarClass = computed(() => {\n      return [`${COMPONENT_NAME.value}__bar`, `${classPrefix.value}-is-${props.placement}`];\n    });\n    const navBarStyle = ref(null);\n    const getStyle = () => {\n      const isVertical = ['left', 'right'].includes(props.placement.toLowerCase());\n      const [sizePropName, offsetPropName] = isVertical ? ['height', 'top'] : ['width', 'left'];\n      let offset = 0;\n      let i = 0;\n      for (; i < props.navs.length; i++) {\n        if (props.navs[i].props.value === props.value) {\n          break;\n        }\n        offset += props.navs[i]?.el?.[`client${firstUpperCase(sizePropName)}`] || 0;\n      }\n      if (!props.navs[i]) return {};\n      return {\n        [offsetPropName]: `${offset}px`,\n        [sizePropName]: `${props.navs[i].el?.[`client${firstUpperCase(sizePropName)}`] || 0}px`,\n      };\n    };\n\n    onMounted(() => {\n      nextTick(() => {\n        navBarStyle.value = getStyle();\n      });\n    });\n\n    watch([() => props.navs, () => props.value, () => props.placement], () => {\n      nextTick(() => {\n        navBarStyle.value = getStyle();\n      });\n    });\n\n    return () => {\n      return <div class={navBarClass.value} style={navBarStyle.value}></div>;\n    };\n  },\n});\n"],"names":["defineComponent","props","navs","type","Array","placement","tabProps","value","setup","COMPONENT_NAME","usePrefixClass","classPrefix","navBarClass","computed","navBarStyle","ref","getStyle","isVertical","includes","toLowerCase","sizePropName","offsetPropName","offset","i","length","el","firstUpperCase","onMounted","nextTick","watch","_createVNode"],"mappings":"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"}