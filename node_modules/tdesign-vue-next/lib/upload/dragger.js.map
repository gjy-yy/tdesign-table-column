{"version":3,"file":"dragger.js","sources":["../../src/upload/dragger.tsx"],"sourcesContent":["import { defineComponent, PropType, computed, ref } from 'vue';\nimport {\n  CheckCircleFilledIcon as TdCheckCircleFilledIcon,\n  ErrorCircleFilledIcon as TdErrorCircleFilledIcon,\n} from 'tdesign-icons-vue-next';\nimport TButton from '../button';\nimport TLoading from '../loading';\n\nimport { UploadFile } from './type';\nimport props from './props';\nimport { returnFileSize, getCurrentDate, abridgeName } from './util';\nimport { UploadConfig } from '../config-provider/type';\n\nimport { useTNodeJSX } from '../hooks/tnode';\nimport { useConfig, usePrefixClass, useCommonClassName } from '../hooks/useConfig';\nimport { useGlobalIcon } from '../hooks/useGlobalIcon';\n\nexport default defineComponent({\n  name: 'TUploadDragger',\n\n  props: {\n    file: {\n      type: Object as PropType<UploadFile>,\n      default: () => {\n        return null as UploadFile;\n      },\n    },\n    loadingFile: {\n      type: Object as PropType<UploadFile>,\n      default: () => {\n        return null as UploadFile;\n      },\n    },\n    percent: {\n      type: Number,\n    },\n    locale: {\n      type: Object as PropType<UploadConfig>,\n      default: () => {\n        return null as UploadConfig;\n      },\n    },\n    autoUpload: props.autoUpload,\n    theme: props.theme,\n    onCancel: Function as PropType<(e: MouseEvent) => void>,\n    onClick: Function as PropType<(e: MouseEvent) => void>,\n    onRemove: Function as PropType<(e: MouseEvent) => void>,\n    onUpload: Function as PropType<(file: UploadFile, e: MouseEvent) => void>,\n    onChange: Function as PropType<(files: FileList) => void>,\n    onDragleave: Function as PropType<(e: DragEvent) => void>,\n    onDragenter: Function as PropType<(e: DragEvent) => void>,\n  },\n\n  setup(props) {\n    const renderTNodeJSX = useTNodeJSX();\n    const target = ref(null);\n    const dragActive = ref(false);\n    const { globalConfig } = useConfig('upload');\n    const UPLOAD_NAME = usePrefixClass('upload');\n    const { CheckCircleFilledIcon, ErrorCircleFilledIcon } = useGlobalIcon({\n      CheckCircleFilledIcon: TdCheckCircleFilledIcon,\n      ErrorCircleFilledIcon: TdErrorCircleFilledIcon,\n    });\n    const { SIZE } = useCommonClassName();\n\n    // status\n    const imageUrl = computed(() => {\n      return (props.loadingFile && props.loadingFile.url) || (props.file && props.file.url);\n    });\n    const inputName = computed(() => {\n      return (props.loadingFile && props.loadingFile.name) || (props.file && props.file.name) || '';\n    });\n    const classes = computed(() => [\n      `${UPLOAD_NAME.value}__dragger`,\n      { [`${UPLOAD_NAME.value}__dragger-center`]: !props.loadingFile && !props.file },\n      { [`${UPLOAD_NAME.value}__dragger-error`]: props.loadingFile && props.loadingFile.status === 'fail' },\n    ]);\n    const size = computed(() => (props.loadingFile && props.loadingFile.size) || (props.file && props.file.size));\n    const showResultOperate = computed(\n      () => Boolean(!props.loadingFile && props.file?.name) || ['success', 'fail'].includes(props.loadingFile?.status),\n    );\n\n    // methods\n    const handleDrop = (event: DragEvent) => {\n      event.preventDefault();\n      props.onChange?.(event.dataTransfer.files);\n      props.onDragleave?.(event);\n      dragActive.value = false;\n    };\n    const handleDragenter = (event: DragEvent) => {\n      event.preventDefault();\n      target.value = event.target;\n      props.onDragenter?.(event);\n      dragActive.value = true;\n    };\n    const handleDragleave = (event: DragEvent) => {\n      if (target.value !== event.target) return;\n      event.preventDefault();\n      props.onDragleave?.(event);\n      dragActive.value = false;\n    };\n\n    // render functions\n    const renderImage = () => (\n      <div class={`${UPLOAD_NAME.value}__dragger-img-wrap`}>{imageUrl.value && <img src={imageUrl.value} />}</div>\n    );\n    const renderUploading = () => {\n      if (props.loadingFile.status === 'fail') return <ErrorCircleFilledIcon />;\n      if (props.loadingFile.status === 'progress') {\n        return (\n          <div class={`${UPLOAD_NAME.value}__single-progress`}>\n            <TLoading />\n            <span class={`${UPLOAD_NAME.value}__single-percent`}>{Math.min(props.percent, 99)}%</span>\n          </div>\n        );\n      }\n    };\n    const renderProgress = () => (\n      <div class={`${UPLOAD_NAME.value}__dragger-progress`}>\n        {props.theme === 'image' && renderImage()}\n        <div class={`${UPLOAD_NAME.value}__dragger-progress-info`}>\n          <div class={`${UPLOAD_NAME.value}__dragger-text`}>\n            <span class={`${UPLOAD_NAME.value}__single-name`}>{abridgeName(inputName.value)}</span>\n            {props.loadingFile && renderUploading()}\n            {!props.loadingFile && !!props.file && <CheckCircleFilledIcon />}\n          </div>\n          <small class={`${SIZE.value.small}`}>\n            {globalConfig.value.file.fileSizeText}：{returnFileSize(size.value)}\n          </small>\n          <small class={`${SIZE.value.small}`}>\n            {globalConfig.value.file.fileOperationDateText}：{getCurrentDate()}\n          </small>\n          <div class={`${UPLOAD_NAME.value}__dragger-btns`}>\n            {['progress', 'waiting'].includes(props.loadingFile?.status) && (\n              <TButton\n                theme=\"primary\"\n                variant=\"text\"\n                class={`${UPLOAD_NAME.value}__dragger-progress-cancel`}\n                onClick={props.onCancel}\n              >\n                {props.locale?.cancelUploadText || globalConfig.value.cancelUploadText}\n              </TButton>\n            )}\n            {!props.autoUpload && props.loadingFile?.status === 'waiting' && (\n              <TButton\n                variant=\"text\"\n                theme=\"primary\"\n                onClick={(e: MouseEvent) => props.onUpload({ ...props.loadingFile }, e)}\n              >\n                {props.locale?.triggerUploadText?.normal || globalConfig.value.triggerUploadText.normal}\n              </TButton>\n            )}\n          </div>\n          {showResultOperate.value && (\n            <div class={`${UPLOAD_NAME.value}__dragger-btns`}>\n              <TButton\n                theme=\"primary\"\n                variant=\"text\"\n                class={`${UPLOAD_NAME.value}__dragger-progress-cancel`}\n                onClick={(e: MouseEvent) => {\n                  props.onRemove(e);\n                  props.onClick(e);\n                }}\n              >\n                {props.locale?.triggerUploadText?.reupload || globalConfig.value.triggerUploadText.reupload}\n              </TButton>\n              <TButton theme=\"danger\" variant=\"text\" onClick={props.onRemove}>\n                {props.locale?.triggerUploadText?.delete || globalConfig.value.triggerUploadText.delete}\n              </TButton>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n\n    const renderDefaultDragElement = () => {\n      const unActiveElement = (\n        <div>\n          <span class={`${UPLOAD_NAME.value}--highlight`}>\n            {props.locale?.triggerUploadText?.normal || globalConfig.value.triggerUploadText.normal}\n          </span>\n          <span>&nbsp;&nbsp;/&nbsp;&nbsp;{globalConfig.value.dragger.draggingText}</span>\n        </div>\n      );\n      const activeElement = <div>{globalConfig.value.dragger.dragDropText}</div>;\n      return dragActive.value ? activeElement : unActiveElement;\n    };\n\n    return () => {\n      let content = null;\n      if ((props.loadingFile || props.file) && props.theme !== 'custom') {\n        content = renderProgress();\n      } else {\n        content = (\n          <div class={`${UPLOAD_NAME.value}__trigger`} onClick={props.onClick}>\n            {renderTNodeJSX('default') || renderDefaultDragElement()}\n          </div>\n        );\n      }\n      return (\n        <div\n          class={classes.value}\n          onDrop={handleDrop}\n          onDragenter={handleDragenter}\n          onDragleave={handleDragleave}\n          onDragover={(event: DragEvent) => {\n            event.preventDefault();\n          }}\n        >\n          {content}\n        </div>\n      );\n    };\n  },\n});\n"],"names":["defineComponent","name","props","file","type","Object","loadingFile","percent","Number","locale","autoUpload","theme","onCancel","Function","onClick","onRemove","onUpload","onChange","onDragleave","onDragenter","setup","renderTNodeJSX","useTNodeJSX","target","ref","dragActive","useConfig","globalConfig","UPLOAD_NAME","usePrefixClass","useGlobalIcon","CheckCircleFilledIcon","TdCheckCircleFilledIcon","ErrorCircleFilledIcon","TdErrorCircleFilledIcon","useCommonClassName","SIZE","imageUrl","computed","url","inputName","classes","value","status","size","showResultOperate","Boolean","includes","handleDrop","event","preventDefault","dataTransfer","files","handleDragenter","handleDragleave","renderImage","_createVNode","renderUploading","TLoading","Math","min","renderProgress","abridgeName","small","fileSizeText","returnFileSize","fileOperationDateText","getCurrentDate","TButton","cancelUploadText","e","triggerUploadText","normal","reupload","renderDefaultDragElement","unActiveElement","dragger","draggingText","activeElement","dragDropText","content"],"mappings":"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"}