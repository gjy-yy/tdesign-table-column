{"version":3,"file":"popup.js","sources":["../../src/popup/popup.tsx"],"sourcesContent":["import {\n  defineComponent,\n  Transition,\n  ref,\n  Ref,\n  computed,\n  ComputedRef,\n  watch,\n  inject,\n  provide,\n  InjectionKey,\n  onUnmounted,\n  nextTick,\n  toRefs,\n} from 'vue';\nimport { createPopper, Placement } from '@popperjs/core';\nimport { usePrefixClass, useCommonClassName } from '../hooks/useConfig';\nimport { on, off, once } from '../utils/dom';\nimport { renderTNodeJSX, renderContent } from '../utils/render-tnode';\nimport setStyle from '../_common/js/utils/set-style';\nimport props from './props';\nimport { PopupVisibleChangeContext, TdPopupProps } from './type';\nimport Container from './container';\nimport useVModel from '../hooks/useVModel';\n\nconst triggers = ['click', 'hover', 'focus', 'context-menu'] as const;\n\ntype TriggerMap = Readonly<Record<typeof triggers[number], boolean>>;\n\nconst injectionKey = Symbol('popup') as InjectionKey<{\n  preventClosing: (preventing: boolean) => void;\n  emitVisible: (visible: boolean, context: PopupVisibleChangeContext) => void;\n  contentClicked: Ref<boolean>;\n  mouseInRange: Ref<boolean>;\n  onMouseLeave: (ev: MouseEvent) => void;\n  hasTrigger: ComputedRef<TriggerMap>;\n}>;\n\nfunction getPopperPlacement(placement: TdPopupProps['placement']): Placement {\n  return placement.replace(/-(left|top)$/, '-start').replace(/-(right|bottom)$/, '-end') as Placement;\n}\n\nfunction attachListeners(elm: Ref<Element>) {\n  const offs: Array<() => void> = [];\n  return {\n    // eslint-disable-next-line no-undef\n    add<K extends keyof HTMLElementEventMap>(type: K, listener: (ev: HTMLElementEventMap[K]) => void) {\n      on(elm.value, type, listener);\n      offs.push(() => {\n        off(elm.value, type, listener);\n      });\n    },\n    clean() {\n      offs.forEach((handler) => handler?.());\n      offs.length = 0;\n    },\n  };\n}\n\nexport default defineComponent({\n  name: 'TPopup',\n\n  props: {\n    ...props,\n    expandAnimation: {\n      type: Boolean,\n    },\n  },\n  setup(props, { expose }) {\n    const { visible, modelValue } = toRefs(props);\n    const [innerVisible, setInnerVisible] = useVModel(\n      visible,\n      modelValue,\n      props.defaultVisible,\n      props.onVisibleChange,\n      'visible',\n    );\n\n    /** popperjs instance */\n    let popper: ReturnType<typeof createPopper>;\n    /** timeout id */\n    let timeoutId: ReturnType<typeof setTimeout>;\n    let hasDocumentEvent = false;\n\n    /** if a trusted action (opening or closing) is prevented, increase this flag */\n    const visibleState = ref(0);\n    const mouseInRange = ref(false);\n    /** mark popup as clicked when mousedown, reset after mouseup */\n    const contentClicked = ref(false);\n\n    const triggerEl = ref<HTMLElement>(null);\n    const overlayEl = ref<HTMLElement>(null);\n    const popperEl = ref<HTMLElement>(null);\n    const containerRef = ref<typeof Container>(null);\n\n    const parent = inject(injectionKey, undefined);\n\n    const prefixCls = usePrefixClass('popup');\n    const { STATUS: commonCls } = useCommonClassName();\n    const overlayCls: any = computed(() => [\n      `${prefixCls.value}__content`,\n      {\n        [`${prefixCls.value}__content--text`]: typeof props.content === 'string',\n        [`${prefixCls.value}__content--arrow`]: props.showArrow,\n        [commonCls.value.disabled]: props.disabled,\n      },\n      props.overlayInnerClassName,\n    ]);\n    const hasTrigger = computed<TriggerMap>(() =>\n      triggers.reduce(\n        (map, trigger) => ({\n          ...map,\n          [trigger]: props.trigger.includes(trigger),\n        }),\n        {} as TriggerMap,\n      ),\n    );\n    const delay = computed<{ open: number; close: number }>(() => {\n      const delay = [].concat(props.delay ?? [250, 150]);\n      return {\n        open: delay[0],\n        close: delay[1] ?? delay[0],\n      };\n    });\n\n    function getOverlayStyle() {\n      const { overlayStyle } = props;\n\n      if (!triggerEl.value || !overlayEl.value) return;\n      if (typeof overlayStyle === 'function') {\n        return overlayStyle(triggerEl.value, overlayEl.value);\n      }\n      if (typeof overlayStyle === 'object') {\n        return overlayStyle;\n      }\n    }\n\n    function updateOverlayInnerStyle() {\n      const { overlayInnerStyle } = props;\n\n      if (!triggerEl.value || !overlayEl.value) return;\n      if (typeof overlayInnerStyle === 'function') {\n        setStyle(overlayEl.value, overlayInnerStyle(triggerEl.value, overlayEl.value));\n      } else if (typeof overlayInnerStyle === 'object') {\n        setStyle(overlayEl.value, overlayInnerStyle);\n      }\n    }\n\n    function updatePopper() {\n      if (!popperEl.value || !innerVisible.value) return;\n      if (popper) {\n        popper.update();\n        return;\n      }\n\n      popper = createPopper(triggerEl.value, popperEl.value, {\n        placement: getPopperPlacement(props.placement as TdPopupProps['placement']),\n        onFirstUpdate: () => {\n          nextTick(updatePopper);\n        },\n      });\n    }\n\n    function destroyPopper() {\n      if (popper) {\n        popper?.destroy();\n        popper = null;\n      }\n      if (props.destroyOnClose) {\n        containerRef.value?.unmountContent();\n      }\n    }\n\n    function emitVisible(visible: boolean, context: PopupVisibleChangeContext) {\n      if (props.disabled || visible === innerVisible.value) return;\n      if (!visible && visibleState.value > 1) return;\n      if (visible && mouseInRange.value) return;\n      setInnerVisible(visible, context);\n    }\n\n    function preventClosing(preventing: boolean) {\n      parent?.preventClosing(preventing);\n      if (preventing) {\n        visibleState.value += 1;\n      } else if (visibleState.value) {\n        visibleState.value -= 1;\n        if (!visibleState.value) {\n          emitVisible(false, {});\n          if (parent?.hasTrigger.value.hover && !parent?.mouseInRange) {\n            parent.emitVisible(false, {});\n          }\n        }\n      }\n    }\n\n    function handleToggle(context: PopupVisibleChangeContext) {\n      emitVisible(!innerVisible.value, context);\n    }\n\n    function handleOpen(context: Pick<PopupVisibleChangeContext, 'trigger'>) {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(\n        () => {\n          emitVisible(true, context);\n        },\n        hasTrigger.value.click ? 0 : delay.value.open,\n      );\n    }\n\n    function handleClose(context: Pick<PopupVisibleChangeContext, 'trigger'>) {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(\n        () => {\n          emitVisible(false, context);\n        },\n        hasTrigger.value.click ? 0 : delay.value.close,\n      );\n    }\n\n    function handleDocumentClick(ev?: MouseEvent) {\n      if (contentClicked.value) {\n        // clear the flag after mousedown\n        setTimeout(() => {\n          contentClicked.value = false;\n        });\n        return;\n      }\n      // ignore document event when clicking trigger element\n      if (triggerEl.value.contains(ev.target as Node)) return;\n      visibleState.value = 0;\n      emitVisible(false, { trigger: 'document' });\n    }\n\n    function onMouseEnter() {\n      mouseInRange.value = true;\n      handleOpen({});\n    }\n\n    function onMouseLeave(ev: MouseEvent) {\n      // 子元素存在打开的 popup 时，ui 可能重叠，而 dom 节点多是并列关系\n      // 需要做碰撞检测去阻止父级 popup 关闭\n      if (visibleState.value > 1) {\n        const rect = popperEl.value.getBoundingClientRect();\n        if (ev.x > rect.x && ev.x < rect.x + rect.width && ev.y > rect.y && ev.y < rect.y + rect.height) return;\n      }\n      mouseInRange.value = false;\n      handleClose({});\n\n      // parent can no longer monitor mouse leave\n      if (parent?.mouseInRange) {\n        parent.onMouseLeave(ev);\n      }\n    }\n\n    const trigger = attachListeners(triggerEl);\n\n    watch(\n      () => [props.trigger, triggerEl.value],\n      () => {\n        if (!triggerEl.value) return;\n        trigger.clean();\n        if (hasTrigger.value.hover) {\n          trigger.add('mouseenter', () => handleOpen({ trigger: 'trigger-element-hover' }));\n          trigger.add('mouseleave', () => handleClose({ trigger: 'trigger-element-hover' }));\n        } else if (hasTrigger.value.focus) {\n          trigger.add('focusin', () => handleOpen({ trigger: 'trigger-element-focus' }));\n          trigger.add('focusout', () => handleClose({ trigger: 'trigger-element-blur' }));\n        } else if (hasTrigger.value.click) {\n          trigger.add('click', (e) => {\n            handleToggle({ e, trigger: 'trigger-element-click' });\n          });\n        } else if (hasTrigger.value['context-menu']) {\n          trigger.add('contextmenu', (e) => {\n            e.preventDefault();\n            // MouseEvent.button\n            // 2: Secondary button pressed, usually the right button\n            e.button === 2 && handleToggle({ trigger: 'context-menu' });\n          });\n        }\n      },\n    );\n\n    watch(\n      () => [props.overlayStyle, props.overlayInnerStyle, overlayEl.value],\n      () => {\n        updateOverlayInnerStyle();\n        updatePopper();\n      },\n    );\n    const updateScrollTop: Function = inject('updateScrollTop', () => {});\n    watch(\n      () => [innerVisible.value, overlayEl.value],\n      () => {\n        if (innerVisible.value && overlayEl.value && updateScrollTop) {\n          updateScrollTop?.(overlayEl.value);\n        }\n      },\n    );\n\n    watch(\n      () => props.placement,\n      () => {\n        destroyPopper();\n        updatePopper();\n      },\n    );\n\n    watch(contentClicked, (clicked) => {\n      // sync lock state recursively\n      if (parent) {\n        parent.contentClicked.value = clicked;\n      }\n    });\n\n    watch(\n      () => innerVisible.value,\n      (visible) => {\n        if (visible) {\n          preventClosing(true);\n          if (!hasDocumentEvent) {\n            on(document, 'click', handleDocumentClick, true);\n            hasDocumentEvent = true;\n          }\n          // focus trigger esc 隐藏浮层\n          if (triggerEl.value && hasTrigger.value.focus) {\n            once(triggerEl.value, 'keydown', (ev: KeyboardEvent) => {\n              if (ev.code === 'Escape') {\n                handleClose({ trigger: 'keydown-esc' });\n              }\n            });\n          }\n        } else {\n          preventClosing(false);\n          // destruction is delayed until after animation ends\n          off(document, 'click', handleDocumentClick, true);\n          hasDocumentEvent = false;\n          mouseInRange.value = false;\n        }\n      },\n    );\n\n    onUnmounted(() => {\n      if (innerVisible.value) {\n        parent?.preventClosing(false);\n      }\n      destroyPopper();\n      off(document, 'click', handleDocumentClick, true);\n      clearTimeout(timeoutId);\n    });\n\n    provide(injectionKey, {\n      preventClosing,\n      emitVisible,\n      contentClicked,\n      mouseInRange,\n      onMouseLeave,\n      hasTrigger,\n    });\n\n    expose({\n      handleClose,\n      updatePopper,\n      getOverlay: () => {\n        return overlayEl.value;\n      },\n    });\n\n    return {\n      innerVisible,\n      triggerEl,\n      overlayEl,\n      popperEl,\n      prefixCls,\n      overlayCls,\n      hasTrigger,\n      contentClicked,\n      updatePopper,\n      destroyPopper,\n      getOverlayStyle,\n      updateOverlayInnerStyle,\n      emitVisible,\n      onMouseEnter,\n      onMouseLeave,\n    };\n  },\n  render() {\n    const { prefixCls, innerVisible, destroyOnClose, hasTrigger, getOverlayStyle, onScroll } = this;\n    const content = renderTNodeJSX(this, 'content');\n    const hidePopup = this.hideEmptyPopup && ['', undefined, null].includes(content);\n\n    const overlay =\n      innerVisible || !destroyOnClose ? (\n        <div\n          class={[prefixCls, this.overlayClassName]}\n          ref=\"popperEl\"\n          style={[\n            hidePopup && { visibility: 'hidden', pointerEvents: 'none' },\n            { zIndex: this.zIndex },\n            getOverlayStyle(),\n          ]}\n          vShow={innerVisible}\n          onMousedown={() => {\n            this.contentClicked = true;\n          }}\n          {...(hasTrigger.hover && {\n            onMouseenter: this.onMouseEnter,\n            onMouseleave: this.onMouseLeave,\n          })}\n        >\n          <div\n            class={this.overlayCls}\n            ref=\"overlayEl\"\n            {...(onScroll && {\n              onScroll(e: WheelEvent) {\n                onScroll({ e });\n              },\n            })}\n          >\n            {content}\n            {this.showArrow && <div class={`${prefixCls}__arrow`} />}\n          </div>\n        </div>\n      ) : null;\n\n    return (\n      <Container\n        ref=\"containerRef\"\n        forwardRef={(ref) => (this.triggerEl = ref)}\n        onContentMounted={() => {\n          if (innerVisible) {\n            this.updatePopper();\n            this.updateOverlayInnerStyle();\n          }\n        }}\n        onResize={() => {\n          if (innerVisible) {\n            this.updatePopper();\n          }\n        }}\n        visible={innerVisible}\n        attach={this.attach}\n      >\n        {{\n          content: () => (\n            <Transition\n              name={this.expandAnimation ? `${prefixCls}--animation-expand` : `${prefixCls}--animation`}\n              appear\n              onEnter={this.updatePopper}\n              onAfterLeave={this.destroyPopper}\n            >\n              {overlay}\n            </Transition>\n          ),\n          default: () => renderContent(this, 'default', 'triggerElement'),\n        }}\n      </Container>\n    );\n  },\n});\n"],"names":["triggers","injectionKey","Symbol","getPopperPlacement","placement","replace","attachListeners","elm","offs","add","type","listener","on","value","push","off","clean","forEach","handler","length","defineComponent","name","props","expandAnimation","Boolean","setup","expose","toRefs","visible","modelValue","useVModel","defaultVisible","onVisibleChange","innerVisible","setInnerVisible","popper","timeoutId","hasDocumentEvent","visibleState","ref","mouseInRange","contentClicked","triggerEl","overlayEl","popperEl","containerRef","parent","inject","prefixCls","usePrefixClass","useCommonClassName","commonCls","STATUS","overlayCls","computed","content","showArrow","disabled","overlayInnerClassName","hasTrigger","reduce","map","trigger","includes","delay","concat","open","close","getOverlayStyle","overlayStyle","updateOverlayInnerStyle","overlayInnerStyle","setStyle","updatePopper","update","createPopper","onFirstUpdate","nextTick","destroyPopper","destroy","destroyOnClose","unmountContent","emitVisible","context","preventClosing","preventing","hover","handleToggle","handleOpen","clearTimeout","setTimeout","click","handleClose","handleDocumentClick","ev","contains","target","onMouseEnter","onMouseLeave","rect","getBoundingClientRect","x","width","y","height","watch","focus","e","preventDefault","button","updateScrollTop","clicked","document","once","code","onUnmounted","provide","getOverlay","render","onScroll","renderTNodeJSX","hidePopup","hideEmptyPopup","overlay","_withDirectives","_createVNode","_mergeProps","overlayClassName","visibility","pointerEvents","zIndex","onMouseenter","onMouseleave","_vShow","attach","renderContent"],"mappings":"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"}