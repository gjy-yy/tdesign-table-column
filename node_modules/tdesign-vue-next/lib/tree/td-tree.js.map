{"version":3,"file":"td-tree.js","sources":["../../src/tree/td-tree.tsx"],"sourcesContent":["import { computed, defineComponent, TransitionGroup, provide } from 'vue';\n\nimport props from './props';\nimport { useConfig } from '../hooks/useConfig';\nimport { useTNodeDefault } from '../hooks/tnode';\nimport { useCLASSNAMES, injectKey } from './constants';\nimport useTree from './useTree';\nimport useExposeFunc from './hooks/useExposeFunc';\n\nexport default defineComponent({\n  name: 'TTree',\n  props,\n  setup(props, { expose, slots }) {\n    const { globalConfig, t } = useConfig('tree');\n    const CLASS_NAMES = useCLASSNAMES();\n    const renderTNodeJSX = useTNodeDefault();\n\n    // 向子组件传递的状态\n    const statusContext = computed(() => {\n      const { checkProps, empty, icon, label, line, disableCheck, operations } = props;\n      return {\n        checkProps,\n        empty,\n        icon,\n        label,\n        line,\n        disableCheck,\n        operations,\n        scopedSlots: slots,\n      };\n    });\n    provide(injectKey, statusContext);\n\n    // tree核心逻辑\n    const { treeStore, treeNodeViews } = useTree(props);\n\n    // 导出方法\n    useExposeFunc(treeStore, expose);\n\n    const classList = computed(() => [\n      CLASS_NAMES.value.tree,\n      {\n        [CLASS_NAMES.value.disabled]: props.disabled,\n        [CLASS_NAMES.value.treeHoverAble]: props.hover,\n        [CLASS_NAMES.value.treeCheckable]: props.checkable,\n        [CLASS_NAMES.value.treeTransition]: props.transition,\n        [CLASS_NAMES.value.treeBlockNode]: props.expandOnClickNode,\n      },\n    ]);\n\n    return () => (\n      <div class={classList.value}>\n        {treeNodeViews.value.length === 0 ? (\n          <div class={CLASS_NAMES.value.treeEmpty}>\n            {renderTNodeJSX('empty', {\n              defaultNode: t(globalConfig.value.empty),\n            })}\n          </div>\n        ) : (\n          <TransitionGroup\n            name={CLASS_NAMES.value.treeNodeToggle}\n            tag=\"div\"\n            enter-active-class={CLASS_NAMES.value.treeNodeEnter}\n            leave-active-class={CLASS_NAMES.value.treeNodeLeave}\n          >\n            {treeNodeViews.value}\n          </TransitionGroup>\n        )}\n      </div>\n    );\n  },\n});\n"],"names":["defineComponent","name","props","setup","expose","slots","useConfig","globalConfig","t","CLASS_NAMES","useCLASSNAMES","renderTNodeJSX","useTNodeDefault","statusContext","computed","checkProps","empty","icon","label","line","disableCheck","operations","scopedSlots","provide","injectKey","useTree","treeStore","treeNodeViews","useExposeFunc","classList","value","tree","disabled","treeHoverAble","hover","treeCheckable","checkable","treeTransition","transition","treeBlockNode","expandOnClickNode","_createVNode","length","treeEmpty","defaultNode","treeNodeToggle","treeNodeEnter","treeNodeLeave"],"mappings":"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"}