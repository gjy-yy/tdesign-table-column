{"version":3,"file":"useInputNumber.js","sources":["../../src/input-number/useInputNumber.tsx"],"sourcesContent":["import { computed, onMounted, ref, toRefs, watch } from 'vue';\nimport useCommonClassName from '../hooks/useCommonClassName';\nimport useVModel from '../hooks/useVModel';\nimport { InputNumberValue, TdInputNumberProps } from './type';\n// 计算逻辑，统一到 common 中，方便各框架复用（如超过 16 位的大数处理）\nimport {\n  canAddNumber,\n  canInputNumber,\n  canReduceNumber,\n  formatToNumber,\n  getMaxOrMinValidateResult,\n  getStepValue,\n} from '../_common/js/input-number/number';\nimport { useFormDisabled } from '../form/hooks';\n\n/**\n * 独立一个组件 Hook 方便用户直接使用相关逻辑 自定义任何样式的数字输入框\n */\nexport default function useInputNumber(props: TdInputNumberProps) {\n  const { classPrefix, sizeClassNames, statusClassNames } = useCommonClassName();\n  const { value, modelValue, max, min } = toRefs(props);\n  // 统一处理受控、非受控、语法糖 v-model 等\n  const [tValue, setTValue] = useVModel(value, modelValue, props.defaultValue, props.onChange);\n  const inputRef = ref();\n  const userInput = ref('');\n  const displayValue = ref();\n\n  const tDisabled = useFormDisabled();\n\n  const isError = ref<'exceed-maximum' | 'below-minimum'>();\n\n  const disabledReduce = computed(\n    () => tDisabled.value || !canReduceNumber(tValue.value, props.min, props.largeNumber),\n  );\n\n  const disabledAdd = computed(() => tDisabled.value || !canAddNumber(tValue.value, props.max, props.largeNumber));\n\n  const wrapClasses = computed(() => [\n    `${classPrefix.value}-input-number`,\n    sizeClassNames[props.size],\n    {\n      [statusClassNames.disabled]: tDisabled.value,\n      [`${classPrefix.value}-is-controls-right`]: props.theme === 'column',\n      [`${classPrefix.value}-input-number--${props.theme}`]: props.theme,\n      [`${classPrefix.value}-input-number--auto-width`]: props.autoWidth,\n    },\n  ]);\n\n  const reduceClasses = computed(() => [\n    `${classPrefix.value}-input-number__decrease`,\n    { [statusClassNames.disabled]: disabledReduce.value },\n  ]);\n\n  const addClasses = computed(() => [\n    `${classPrefix.value}-input-number__increase`,\n    { [statusClassNames.disabled]: disabledAdd.value },\n  ]);\n\n  const getUserInput = (value: InputNumberValue) => {\n    if (!value && value !== 0) return '';\n    let inputStr = String(value);\n    if (!inputRef.value?.inputRef?.contains(document.activeElement)) {\n      inputStr = String(\n        formatToNumber(inputStr, {\n          decimalPlaces: props.decimalPlaces,\n          largeNumber: props.largeNumber,\n        }),\n      );\n      if (props.format) {\n        inputStr = String(props.format(value, { fixedNumber: inputStr }));\n      }\n    }\n    return inputStr;\n  };\n\n  watch(\n    tValue,\n    (val) => {\n      const inputValue = [undefined, null].includes(val) ? '' : String(val);\n      userInput.value = getUserInput(inputValue);\n    },\n    { immediate: true },\n  );\n\n  onMounted(() => {\n    userInput.value = getUserInput(tValue.value);\n  });\n\n  watch(\n    [tValue, max, min],\n    () => {\n      // @ts-ignore 没有输入完成，则无需校验\n      if ([undefined, '', null].includes(tValue.value)) return;\n      const error = getMaxOrMinValidateResult({\n        value: tValue.value,\n        largeNumber: props.largeNumber,\n        max: props.max,\n        min: props.min,\n      });\n      isError.value = error;\n      props.onValidate?.({ error });\n    },\n    { immediate: true },\n  );\n\n  const handleStepValue = (op: 'add' | 'reduce') =>\n    getStepValue({\n      op,\n      step: props.step,\n      max: props.max,\n      min: props.min,\n      lastValue: tValue.value,\n      largeNumber: props.largeNumber,\n    });\n\n  const handleReduce = (e: KeyboardEvent | MouseEvent) => {\n    if (disabledReduce.value || props.readonly) return;\n    const newValue = handleStepValue('reduce');\n    setTValue(newValue, { type: 'reduce', e });\n  };\n\n  const handleAdd = (e: KeyboardEvent | MouseEvent) => {\n    if (disabledAdd.value || props.readonly) return;\n    const newValue = handleStepValue('add');\n    setTValue(newValue, { type: 'add', e });\n  };\n\n  const onInnerInputChange = (val: string, ctx: { e: InputEvent }) => {\n    if (!canInputNumber(val, props.largeNumber)) return;\n    userInput.value = val;\n    // 大数-字符串；普通数-数字。此处是了将 2e3，2.1e3 等内容转换为数字\n    const newVal = props.largeNumber || !val ? val : Number(val);\n    if (newVal !== tValue.value && !['-', '.', 'e', 'E'].includes(val.slice(-1))) {\n      setTValue(newVal, { type: 'input', e: ctx.e });\n    }\n  };\n\n  const handleBlur = (value: string, ctx: { e: FocusEvent }) => {\n    userInput.value = getUserInput(tValue.value);\n    const newValue = formatToNumber(value, {\n      decimalPlaces: props.decimalPlaces,\n      largeNumber: props.largeNumber,\n    });\n    if (newValue !== value && String(newValue) !== value) {\n      setTValue(newValue, { type: 'blur', e: ctx.e });\n    }\n    props.onBlur?.(newValue, ctx);\n  };\n\n  const handleFocus = (value: string, ctx: { e: FocusEvent }) => {\n    userInput.value = tValue.value || tValue.value === 0 ? String(tValue.value) : '';\n    props.onFocus?.(value, ctx);\n  };\n\n  const handleKeydown = (value: string, ctx: { e: KeyboardEvent }) => {\n    const { e } = ctx;\n    const keyEvent = {\n      ArrowUp: handleAdd,\n      ArrowDown: handleReduce,\n    };\n    const code = e.code || e.key;\n    if (keyEvent[code] !== undefined) {\n      keyEvent[code](e);\n    }\n    props.onKeydown?.(value, ctx);\n  };\n\n  const handleKeyup = (value: string, ctx: { e: KeyboardEvent }) => {\n    props.onKeyup?.(value, ctx);\n  };\n\n  const handleKeypress = (value: string, ctx: { e: KeyboardEvent }) => {\n    props.onKeypress?.(value, ctx);\n  };\n\n  const handleEnter = (value: string, ctx: { e: KeyboardEvent }) => {\n    userInput.value = getUserInput(value);\n    const newValue = formatToNumber(value, {\n      decimalPlaces: props.decimalPlaces,\n      largeNumber: props.largeNumber,\n    });\n    if (newValue !== value && String(newValue) !== value) {\n      setTValue(newValue, { type: 'enter', e: ctx.e });\n    }\n    props.onEnter?.(newValue, ctx);\n  };\n\n  const focus = () => {\n    (inputRef.value as any).focus();\n  };\n\n  const blur = () => {\n    (inputRef.value as any).blur();\n  };\n\n  const listeners = {\n    onBlur: handleBlur,\n    onFocus: handleFocus,\n    onKeydown: handleKeydown,\n    onKeyup: handleKeyup,\n    onKeypress: handleKeypress,\n    onEnter: handleEnter,\n    onClick: focus,\n  };\n\n  return {\n    classPrefix,\n    wrapClasses,\n    reduceClasses,\n    addClasses,\n    displayValue,\n    tDisabled,\n    isError,\n    listeners,\n    userInput,\n    tValue,\n    inputRef,\n    focus,\n    blur,\n    handleReduce,\n    handleAdd,\n    onInnerInputChange,\n  };\n}\n"],"names":["useInputNumber","props","useCommonClassName","classPrefix","sizeClassNames","statusClassNames","toRefs","value","modelValue","max","min","useVModel","defaultValue","onChange","tValue","setTValue","inputRef","ref","userInput","displayValue","tDisabled","useFormDisabled","isError","disabledReduce","computed","canReduceNumber","largeNumber","disabledAdd","canAddNumber","wrapClasses","size","disabled","theme","autoWidth","reduceClasses","addClasses","getUserInput","inputStr","String","contains","document","activeElement","formatToNumber","decimalPlaces","format","fixedNumber","watch","val","inputValue","includes","immediate","onMounted","error","getMaxOrMinValidateResult","onValidate","handleStepValue","op","getStepValue","step","lastValue","handleReduce","e","readonly","newValue","type","handleAdd","onInnerInputChange","ctx","canInputNumber","newVal","Number","slice","handleBlur","onBlur","handleFocus","onFocus","handleKeydown","keyEvent","ArrowUp","ArrowDown","code","key","onKeydown","handleKeyup","onKeyup","handleKeypress","onKeypress","handleEnter","onEnter","focus","blur","listeners","onClick"],"mappings":"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"}