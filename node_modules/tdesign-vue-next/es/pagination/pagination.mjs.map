{"version":3,"file":"pagination.mjs","sources":["../../node_modules/lodash/isNaN.js","../../src/pagination/pagination.tsx"],"sourcesContent":["var isNumber = require('./isNumber');\n\n/**\n * Checks if `value` is `NaN`.\n *\n * **Note:** This method is based on\n * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n * `undefined` and other non-number values.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n * @example\n *\n * _.isNaN(NaN);\n * // => true\n *\n * _.isNaN(new Number(NaN));\n * // => true\n *\n * isNaN(undefined);\n * // => true\n *\n * _.isNaN(undefined);\n * // => false\n */\nfunction isNaN(value) {\n  // An `NaN` primitive is the only value that is not equal to itself.\n  // Perform the `toStringTag` check first to avoid errors with some\n  // ActiveX objects in IE.\n  return isNumber(value) && value != +value;\n}\n\nmodule.exports = isNaN;\n","import { defineComponent, computed, ref, watch, toRefs } from 'vue';\nimport isNaN from 'lodash/isNaN';\nimport {\n  PageFirstIcon as TdPageFirstIcon,\n  PageLastIcon as TdPageLastIcon,\n  ChevronLeftIcon as TdChevronLeftIcon,\n  ChevronRightIcon as TdChevronRightIcon,\n  ChevronLeftDoubleIcon as TdChevronLeftDoubleIcon,\n  ChevronRightDoubleIcon as TdChevronRightDoubleIcon,\n  EllipsisIcon as TdEllipsisIcon,\n} from 'tdesign-icons-vue-next';\n\nimport { TdPaginationProps } from '../pagination/type';\nimport { useConfig, usePrefixClass } from '../hooks/useConfig';\nimport { useGlobalIcon } from '../hooks/useGlobalIcon';\nimport TInputNumber from '../input-number';\nimport { Option, Select } from '../select';\nimport TInputAdornment from '../input-adornment';\nimport props from './props';\nimport usePaginationClasses from './usePaginationClasses';\nimport useMoreAction from './useMoreAction';\nimport useVModel from '../hooks/useVModel';\nimport useDefaultValue from '../hooks/useDefaultValue';\nimport { useTNodeJSX } from '../hooks/tnode';\n\nconst min = 1;\n\nexport default defineComponent({\n  name: 'TPagination',\n  props,\n\n  setup(props) {\n    const { modelValue, pageSize, current } = toRefs(props);\n    const renderTNodeJSX = useTNodeJSX();\n    const [innerCurrent, setInnerCurrent] = useVModel(\n      current,\n      modelValue,\n      props.defaultCurrent,\n      props.onCurrentChange,\n      'current',\n    );\n\n    const [innerPageSize, setInnerPageSize] = useDefaultValue(\n      pageSize,\n      props.defaultPageSize,\n      props.onPageSizeChange,\n      'pageSize',\n    );\n\n    const { t, globalConfig } = useConfig('pagination');\n    const COMPONENT_NAME = usePrefixClass('pagination');\n    const {\n      PageFirstIcon,\n      PageLastIcon,\n      ChevronLeftIcon,\n      ChevronRightIcon,\n      ChevronLeftDoubleIcon,\n      ChevronRightDoubleIcon,\n      EllipsisIcon,\n    } = useGlobalIcon({\n      PageFirstIcon: TdPageFirstIcon,\n      PageLastIcon: TdPageLastIcon,\n      ChevronLeftIcon: TdChevronLeftIcon,\n      ChevronRightIcon: TdChevronRightIcon,\n      ChevronLeftDoubleIcon: TdChevronLeftDoubleIcon,\n      ChevronRightDoubleIcon: TdChevronRightDoubleIcon,\n      EllipsisIcon: TdEllipsisIcon,\n    });\n\n    const { pageCount, ...CLASS_MAP } = usePaginationClasses(props, innerCurrent, innerPageSize, COMPONENT_NAME);\n\n    const { prevMore, isPrevMoreShow, curPageLeftCount, nextMore, isNextMoreShow, curPageRightCount } = useMoreAction(\n      props,\n      pageCount,\n      innerCurrent,\n    );\n\n    const jumpIndex = ref(innerCurrent.value);\n\n    const isFolded = computed(() => pageCount.value > props.maxPageBtn);\n\n    const pageCountOption = computed<Array<{ label: string; value: number }>>(() => {\n      const ans = [];\n      for (let i = 1; i <= pageCount.value; i++) {\n        ans.push({ value: i, label: `${i}/${pageCount.value}` });\n      }\n      return ans;\n    });\n\n    const sizeOptions = computed<Array<{ label: string; value: number }>>(() => {\n      const pageSizeOptions = props.pageSizeOptions as TdPaginationProps['pageSizeOptions'];\n      const options = pageSizeOptions.map((option) =>\n        typeof option === 'object'\n          ? option\n          : {\n              label: t(globalConfig.value.itemsPerPage, { size: option }),\n              value: Number(option),\n            },\n      );\n      return options.sort((a, b) => a.value - b.value);\n    });\n\n    const isMidEllipsis = computed(() => {\n      return props.pageEllipsisMode === 'mid';\n    });\n\n    const pages = computed(() => {\n      const array = [];\n      let start;\n      let end;\n\n      if (isFolded.value) {\n        if (isPrevMoreShow.value && isNextMoreShow.value) {\n          start = innerCurrent.value - curPageLeftCount.value;\n          end = innerCurrent.value + curPageRightCount.value;\n        } else {\n          const foldedStart = isMidEllipsis.value ? 2 : 1;\n          const foldedEnd = isMidEllipsis.value ? pageCount.value - 1 : pageCount.value;\n          start = isPrevMoreShow.value ? pageCount.value - props.foldedMaxPageBtn + 1 : foldedStart;\n          end = isPrevMoreShow.value ? foldedEnd : props.foldedMaxPageBtn;\n        }\n      } else {\n        start = 1;\n        end = pageCount.value;\n      }\n\n      for (let i = start; i <= end; i++) {\n        array.push(i);\n      }\n      return array;\n    });\n\n    // 如果页面总数发生变化并当前页数大于总页数则重置为1\n    watch(\n      () => pageCount.value,\n      () => {\n        if (innerCurrent.value > pageCount.value) innerCurrent.value = 1;\n      },\n    );\n    watch(\n      () => innerCurrent.value,\n      (val) => (jumpIndex.value = val),\n    );\n\n    const toPage: (pageIndex: number, isTriggerChange?: boolean) => void = (pageIndex, isTriggerChange) => {\n      if (props.disabled) {\n        return;\n      }\n      let current = pageIndex;\n      if (pageIndex < min) {\n        current = min;\n      } else if (pageIndex > pageCount.value) {\n        current = pageCount.value;\n      }\n      if (innerCurrent.value !== current) {\n        const prev = innerCurrent.value;\n        const pageInfo = {\n          current,\n          previous: prev,\n          pageSize: innerPageSize.value,\n        };\n        if (isTriggerChange !== false) {\n          props.onChange?.(pageInfo);\n        }\n        setInnerCurrent(current, pageInfo);\n      }\n    };\n\n    const handlePageChange = (type: string) => {\n      const pageChangeMap = {\n        prevPage: () => toPage(innerCurrent.value - 1),\n        nextPage: () => toPage(innerCurrent.value + 1),\n        prevMorePage: () => toPage(innerCurrent.value - props.foldedMaxPageBtn),\n        nextMorePage: () => toPage(innerCurrent.value + props.foldedMaxPageBtn),\n      };\n\n      pageChangeMap[type]();\n    };\n\n    const onSelectorChange: (e: string) => void = (e) => {\n      if (props.disabled) {\n        return;\n      }\n      const pageSize: number = parseInt(e, 10);\n      let pageCount = 1;\n      if (pageSize > 0) {\n        pageCount = Math.ceil(props.total / pageSize);\n      }\n\n      let isIndexChange = false;\n\n      if (innerCurrent.value > pageCount) {\n        isIndexChange = true;\n      }\n\n      /**\n       * 分页大小变化事件\n       * @param {Number} pageSize 分页大小\n       * @param {Number} index 当前页\n       */\n      const pageInfo = {\n        current: isIndexChange ? pageCount : innerCurrent.value,\n        previous: innerCurrent.value,\n        pageSize,\n      };\n      props.onChange?.(pageInfo);\n      setInnerPageSize(pageSize, pageInfo);\n      if (isIndexChange) {\n        toPage(pageCount, false);\n      }\n    };\n\n    const onJumperChange = (val: number) => {\n      const currentIndex = Math.trunc(+val);\n      if (isNaN(currentIndex)) return;\n      jumpIndex.value = currentIndex;\n      toPage(currentIndex);\n    };\n\n    return () => {\n      const { total, pageSizeOptions, size, disabled, showPageSize } = props;\n      if (pageCount.value < 1) return null;\n\n      const Jumper = (\n        <div class={CLASS_MAP.jumperClass.value}>\n          {t(globalConfig.value.jumpTo)}\n          <TInputAdornment append={`/ ${pageCount.value} ${t(globalConfig.value.page)}`}>\n            <TInputNumber\n              class={CLASS_MAP.jumperInputClass.value}\n              v-model={jumpIndex.value}\n              onBlur={onJumperChange}\n              onEnter={onJumperChange}\n              max={pageCount.value}\n              min={min}\n              size={size}\n              disabled={disabled}\n              theme=\"normal\"\n              placeholder=\"\"\n            />\n          </TInputAdornment>\n        </div>\n      );\n\n      return (\n        <div class={CLASS_MAP.paginationClass.value}>\n          {/* 数据统计区 */}\n          {renderTNodeJSX(\n            'totalContent',\n            <div class={CLASS_MAP.totalClass.value}>{t(globalConfig.value.total, { total })}</div>,\n          )}\n\n          {/* 分页器 */}\n          {showPageSize && pageSizeOptions.length > 0 && (\n            <Select\n              size={size}\n              value={innerPageSize}\n              disabled={disabled}\n              class={CLASS_MAP.sizerClass.value}\n              autoWidth={true}\n              onChange={onSelectorChange}\n            >\n              {sizeOptions.value.map((item, index) => (\n                <Option value={item.value} label={item.label} key={index} />\n              ))}\n            </Select>\n          )}\n          {/* 首页按钮 */}\n          {props.showFirstAndLastPageBtn ? (\n            <div\n              class={CLASS_MAP.preBtnClass.value}\n              onClick={() => toPage(1)}\n              disabled={props.disabled || props.current === min}\n            >\n              <PageFirstIcon />\n            </div>\n          ) : null}\n          {/* 向前按钮 */}\n          {props.showPreviousAndNextBtn ? (\n            <div\n              class={CLASS_MAP.preBtnClass.value}\n              onClick={() => handlePageChange('prevPage')}\n              disabled={disabled || innerCurrent.value === min}\n            >\n              <ChevronLeftIcon />\n            </div>\n          ) : null}\n          {/* 常规版 */}\n          {props.showPageNumber && props.theme === 'default' ? (\n            <ul class={CLASS_MAP.btnWrapClass.value}>\n              {isFolded.value && isMidEllipsis.value && (\n                <li class={CLASS_MAP.getButtonClass(1)} onClick={() => toPage(min)}>\n                  {min}\n                </li>\n              )}\n              {isFolded.value && isPrevMoreShow.value && isMidEllipsis.value ? (\n                <li\n                  class={CLASS_MAP.btnMoreClass.value}\n                  onClick={() => handlePageChange('prevMorePage')}\n                  onMouseOver={() => (prevMore.value = true)}\n                  onMouseOut={() => (prevMore.value = false)}\n                >\n                  {prevMore.value ? <ChevronLeftDoubleIcon /> : <EllipsisIcon />}\n                </li>\n              ) : null}\n              {pages.value.map((i) => (\n                <li class={CLASS_MAP.getButtonClass(i)} key={i} onClick={() => toPage(i)}>\n                  {i}\n                </li>\n              ))}\n              {isFolded.value && isNextMoreShow.value && isMidEllipsis.value ? (\n                <li\n                  class={CLASS_MAP.btnMoreClass.value}\n                  onClick={() => handlePageChange('nextMorePage')}\n                  onMouseOver={() => (nextMore.value = true)}\n                  onMouseOut={() => (nextMore.value = false)}\n                >\n                  {nextMore.value ? <ChevronRightDoubleIcon /> : <EllipsisIcon />}\n                </li>\n              ) : null}\n              {isFolded.value && isMidEllipsis.value ? (\n                <li class={CLASS_MAP.getButtonClass(pageCount.value)} onClick={() => toPage(pageCount.value)}>\n                  {pageCount.value}\n                </li>\n              ) : null}\n            </ul>\n          ) : null}\n          {/* 极简版 */}\n          {props.theme === 'simple' && Jumper}\n          {/* 向后按钮 */}\n          {props.showPreviousAndNextBtn ? (\n            <div\n              class={CLASS_MAP.nextBtnClass.value}\n              onClick={() => handlePageChange('nextPage')}\n              disabled={disabled || innerCurrent.value === pageCount.value}\n            >\n              <ChevronRightIcon />\n            </div>\n          ) : null}\n          {/* 尾页按钮 */}\n          {props.showFirstAndLastPageBtn ? (\n            <div\n              class={CLASS_MAP.nextBtnClass.value}\n              onClick={() => toPage(pageCount.value)}\n              disabled={disabled || innerCurrent.value === pageCount.value}\n            >\n              <PageLastIcon />\n            </div>\n          ) : null}\n          {/* 快速跳转 */}\n          {props.theme === 'default' && props.showJumper && Jumper}\n        </div>\n      );\n    };\n  },\n});\n"],"names":["isNumber","require$$0","isNaN","value","_isNaN","min","defineComponent","name","props","setup","toRefs","modelValue","pageSize","current","renderTNodeJSX","useTNodeJSX","useVModel","defaultCurrent","onCurrentChange","innerCurrent","setInnerCurrent","useDefaultValue","defaultPageSize","onPageSizeChange","innerPageSize","setInnerPageSize","useConfig","t","globalConfig","COMPONENT_NAME","usePrefixClass","useGlobalIcon","PageFirstIcon","TdPageFirstIcon","PageLastIcon","TdPageLastIcon","ChevronLeftIcon","TdChevronLeftIcon","ChevronRightIcon","TdChevronRightIcon","ChevronLeftDoubleIcon","TdChevronLeftDoubleIcon","ChevronRightDoubleIcon","TdChevronRightDoubleIcon","EllipsisIcon","TdEllipsisIcon","usePaginationClasses","pageCount","CLASS_MAP","useMoreAction","prevMore","isPrevMoreShow","curPageLeftCount","nextMore","isNextMoreShow","curPageRightCount","jumpIndex","ref","isFolded","computed","maxPageBtn","pageCountOption","ans","i","push","label","sizeOptions","pageSizeOptions","options","map","option","itemsPerPage","size","Number","sort","a","b","isMidEllipsis","pageEllipsisMode","pages","array","start","end","foldedStart","foldedEnd","foldedMaxPageBtn","watch","val","toPage","pageIndex","isTriggerChange","disabled","prev","pageInfo","previous","onChange","handlePageChange","type","pageChangeMap","prevPage","nextPage","prevMorePage","nextMorePage","onSelectorChange","e","parseInt","Math","ceil","total","isIndexChange","onJumperChange","currentIndex","trunc","showPageSize","Jumper","_createVNode","jumperClass","jumpTo","TInputAdornment","page","TInputNumber","jumperInputClass","paginationClass","totalClass","length","sizerClass","item","index","showFirstAndLastPageBtn","preBtnClass","showPreviousAndNextBtn","showPageNumber","theme","btnWrapClass","getButtonClass","btnMoreClass","nextBtnClass","showJumper"],"mappings":"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"}