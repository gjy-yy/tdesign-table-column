{"version":3,"file":"hooks.mjs","sources":["../../node_modules/lodash/_baseIsMatch.js","../../node_modules/lodash/_isStrictComparable.js","../../node_modules/lodash/_getMatchData.js","../../node_modules/lodash/_matchesStrictComparable.js","../../node_modules/lodash/_baseMatches.js","../../node_modules/lodash/_baseMatchesProperty.js","../../node_modules/lodash/_basePropertyDeep.js","../../node_modules/lodash/property.js","../../node_modules/lodash/_baseIteratee.js","../../node_modules/lodash/findIndex.js","../../src/upload/hooks.tsx"],"sourcesContent":["var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nmodule.exports = findIndex;\n","import { computed, ref, ComputedRef } from 'vue';\nimport findIndex from 'lodash/findIndex';\nimport log from '../_common/js/log';\n\nimport {\n  TdUploadProps,\n  UploadFile,\n  UploadRemoveOptions,\n  FlowRemoveContext,\n  HTMLInputEvent,\n  UploadCtxType,\n} from './interface';\n\nimport { useUpload } from './useUpload';\n\nexport const useComponentsStatus = (props: TdUploadProps, uploadCtx: UploadCtxType) => {\n  const showUploadList = computed(() => {\n    if (props.multiple && props.theme === 'file' && props.draggable) return true;\n    return props.multiple && ['file-flow', 'image-flow'].includes(props.theme);\n  });\n\n  // 默认文件上传风格：文件进行上传和上传成功后不显示 tips\n  const showTips = computed(() => {\n    if (props.theme === 'file') {\n      const hasNoFile = (!uploadCtx.uploadValue || !uploadCtx.uploadValue.length) && !uploadCtx.loadingFile;\n      return props.tips && hasNoFile;\n    }\n    return Boolean(props.tips);\n  });\n\n  const showErrorMsg = computed(() => {\n    return !showUploadList.value && !!uploadCtx.errorMsg;\n  });\n\n  // 拖拽类单文件或图片上传\n  const singleDraggable = computed(\n    () => !props.multiple && props.draggable && ['file', 'file-input', 'image'].includes(props.theme),\n  );\n\n  return {\n    showUploadList,\n    showTips,\n    showErrorMsg,\n    singleDraggable,\n  };\n};\n\n// 图片预览相关逻辑\nexport const useImgPreview = (props: TdUploadProps) => {\n  const showImageViewUrl = ref('');\n  const showImageViewDialog = ref(false);\n\n  const handlePreviewImg = (event: MouseEvent, file?: UploadFile) => {\n    if (!file || !file.url) return log.error('Uploader', 'Preview Error file');\n    showImageViewUrl.value = file.url;\n    showImageViewDialog.value = true;\n    const previewCtx = { file, e: event };\n    props.onPreview?.(previewCtx);\n  };\n\n  // close image view dialog\n  const cancelPreviewImgDialog = () => {\n    showImageViewDialog.value = false;\n    // Dialog 动画结束后，再清理图片\n    let timer = setTimeout(() => {\n      showImageViewUrl.value = null;\n      clearTimeout(timer);\n      timer = null;\n    }, 500);\n  };\n\n  return {\n    showImageViewUrl,\n    showImageViewDialog,\n    handlePreviewImg,\n    cancelPreviewImgDialog,\n  };\n};\n\n// 拖拽相关\nexport const useDragger = (props: TdUploadProps, disabled: ComputedRef<boolean>) => {\n  const dragActive = ref(false);\n  const handleDragenter = (e: DragEvent) => {\n    if (disabled.value) return;\n    dragActive.value = true;\n    props.onDragenter?.({ e });\n  };\n\n  const handleDragleave = (e: DragEvent) => {\n    if (disabled.value) return;\n    dragActive.value = false;\n    props.onDragleave?.({ e });\n  };\n\n  return {\n    handleDragenter,\n    handleDragleave,\n    dragActive,\n  };\n};\n\n// 删除相关\nexport const useRemove = (props: TdUploadProps, uploadCtx: UploadCtxType) => {\n  const handleSingleRemove = (e: MouseEvent) => {\n    const changeCtx = { trigger: 'remove' };\n    if (uploadCtx.loadingFile) uploadCtx.loadingFile = null;\n    uploadCtx.errorMsg = '';\n    uploadCtx.setUploadValue([], changeCtx);\n    props.onRemove?.({ e });\n  };\n\n  const handleFileInputRemove = (e: MouseEvent) => {\n    e?.stopPropagation();\n    handleSingleRemove(e);\n  };\n\n  const handleMultipleRemove = (options: UploadRemoveOptions) => {\n    let files: UploadFile[] = [];\n    if (!uploadCtx.canBatchUpload) {\n      files = uploadCtx.uploadValue.concat();\n      files.splice(options.index, 1);\n    } else {\n      // All files remove in batchUpload\n      files = [];\n      options.files = uploadCtx.uploadValue.concat();\n    }\n    const changeCtx = { trigger: 'remove', ...options };\n    uploadCtx.setUploadValue(files, changeCtx);\n    props.onRemove?.(options);\n  };\n\n  const handleListRemove = (context: FlowRemoveContext) => {\n    const { file } = context;\n    const index = findIndex(uploadCtx.toUploadFiles, (o: any) => o.name === file?.name);\n    if (index >= 0) {\n      uploadCtx.toUploadFiles.splice(index, 1);\n    } else {\n      const index = findIndex(uploadCtx.uploadValue, (o: any) => o.name === file?.name);\n      handleMultipleRemove({ e: context.e, index });\n    }\n  };\n\n  return {\n    handleFileInputRemove,\n    handleSingleRemove,\n    handleMultipleRemove,\n    handleListRemove,\n  };\n};\n\n// 上传相关动作\nexport const useActions = (props: TdUploadProps, uploadCtx: UploadCtxType, disabled: ComputedRef<boolean>) => {\n  const { uploadFiles, upload, xhrReq } = useUpload(props, uploadCtx);\n  const inputRef = ref(null);\n  const handleChange = (event: HTMLInputEvent) => {\n    const { files } = event.target;\n    if (disabled.value) return;\n    uploadFiles(files);\n\n    (inputRef.value as HTMLInputElement).value = '';\n  };\n\n  const multipleUpload = (currentFiles: Array<UploadFile>) => {\n    if (props.uploadAllFilesInOneRequest) {\n      // 一个请求同时上传多个文件\n      upload(currentFiles);\n    } else {\n      currentFiles.forEach((file) => {\n        upload(file);\n      });\n    }\n  };\n\n  const triggerUpload = () => {\n    if (disabled.value) return;\n    (inputRef.value as HTMLInputElement).click();\n  };\n\n  const cancelUpload = () => {\n    if (uploadCtx.loadingFile) {\n      // 如果存在自定义上传方法，则只需要抛出事件，而后由父组件处理取消上传\n      if (!props.requestMethod) {\n        xhrReq.value && xhrReq.value.abort();\n        uploadCtx.toUploadFiles = [];\n      }\n      props.onCancelUpload?.();\n      uploadCtx.loadingFile = null;\n    }\n    (inputRef.value as HTMLInputElement).value = '';\n  };\n\n  const handleDragChange = (files: FileList) => {\n    if (disabled.value) return;\n    uploadFiles(files);\n  };\n  return { handleChange, multipleUpload, triggerUpload, cancelUpload, handleDragChange, upload, inputRef };\n};\n\n// 合并上传\nexport const useBatchUpload = (props: TdUploadProps) => {\n  const uploadInOneRequest = computed(() => {\n    return props.multiple && props.uploadAllFilesInOneRequest;\n  });\n  const canBatchUpload = computed(() => {\n    return uploadInOneRequest.value && props.isBatchUpload;\n  });\n\n  return {\n    uploadInOneRequest,\n    canBatchUpload,\n  };\n};\n"],"names":["Stack","require$$0","baseIsEqual","require$$1","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","baseIsMatch","object","source","matchData","customizer","index","length","noCustomizer","Object","data","key","objValue","srcValue","undefined","stack","result","_baseIsMatch","isObject","isStrictComparable","value","_isStrictComparable","keys","getMatchData","_getMatchData","matchesStrictComparable","_matchesStrictComparable","require$$2","baseMatches","_baseMatches","get","hasIn","isKey","require$$3","require$$4","require$$5","toKey","require$$6","baseMatchesProperty","path","_baseMatchesProperty","baseGet","basePropertyDeep","_basePropertyDeep","baseProperty","property","property_1","identity","isArray","baseIteratee","_baseIteratee","baseFindIndex","toInteger","nativeMax","Math","max","findIndex","array","predicate","fromIndex","findIndex_1","useComponentsStatus","props","uploadCtx","showUploadList","computed","multiple","theme","draggable","includes","showTips","hasNoFile","uploadValue","loadingFile","tips","Boolean","showErrorMsg","errorMsg","singleDraggable","useImgPreview","showImageViewUrl","ref","showImageViewDialog","handlePreviewImg","event","file","url","log","error","previewCtx","e","onPreview","cancelPreviewImgDialog","timer","setTimeout","clearTimeout","useDragger","disabled","dragActive","handleDragenter","onDragenter","handleDragleave","onDragleave","useRemove","handleSingleRemove","changeCtx","trigger","setUploadValue","onRemove","handleFileInputRemove","stopPropagation","handleMultipleRemove","options","files","canBatchUpload","concat","splice","handleListRemove","context","toUploadFiles","o","name","useActions","useUpload","uploadFiles","upload","xhrReq","inputRef","handleChange","target","multipleUpload","currentFiles","uploadAllFilesInOneRequest","forEach","triggerUpload","click","cancelUpload","requestMethod","abort","onCancelUpload","handleDragChange","useBatchUpload","uploadInOneRequest","isBatchUpload"],"mappings":"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"}