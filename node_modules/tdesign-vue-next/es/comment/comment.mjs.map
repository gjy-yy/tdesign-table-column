{"version":3,"file":"comment.mjs","sources":["../../src/comment/comment.tsx"],"sourcesContent":["import { defineComponent, computed } from 'vue';\nimport props from './props';\n\nimport { usePrefixClass } from '../hooks/useConfig';\nimport { useTNodeJSX } from '../hooks/tnode';\n\nexport default defineComponent({\n  name: 'TComment',\n  props,\n  setup() {\n    const COMPONENT_NAME = usePrefixClass('comment');\n    const renderTNodeJSX = useTNodeJSX();\n\n    return () => {\n      const reply = renderTNodeJSX('reply');\n      const author = renderTNodeJSX('author');\n      const datetime = renderTNodeJSX('datetime');\n      const quote = renderTNodeJSX('quote');\n      const actions = renderTNodeJSX('actions');\n      const content = renderTNodeJSX('content');\n      const avatar = renderTNodeJSX('avatar');\n      const showAuthorDatetime = computed(() => author || datetime);\n\n      const replyDom = reply ? <div class={`${COMPONENT_NAME.value}__reply`}>{reply}</div> : null;\n\n      const quoteDom = quote ? <div class={`${COMPONENT_NAME.value}__quote`}>{quote}</div> : null;\n\n      const avatarDom = avatar ? (\n        <div class={`${COMPONENT_NAME.value}__avatar`}>\n          {typeof avatar === 'string' ? (\n            <img src={avatar} alt=\"\" class={`${COMPONENT_NAME.value}__avatar-image`} />\n          ) : (\n            avatar\n          )}\n        </div>\n      ) : null;\n\n      const authorDatetimeDom = showAuthorDatetime.value && (\n        <div class={`${COMPONENT_NAME.value}__author`}>\n          {author && <span class={`${COMPONENT_NAME.value}__name`}>{author}</span>}\n          {datetime && <span class={`${COMPONENT_NAME.value}__time`}>{datetime}</span>}\n        </div>\n      );\n\n      const renderActions = () => {\n        if (!actions || !actions.length) return null;\n\n        return (\n          <ul class={`${COMPONENT_NAME.value}__actions`}>\n            {(Array.isArray(actions) ? actions : [actions]).map((action, index: number) => (\n              <li key={`action-${index}`}>{action}</li>\n            ))}\n          </ul>\n        );\n      };\n\n      const contentDom = (\n        <div class={`${COMPONENT_NAME.value}__content`}>\n          {authorDatetimeDom}\n          <div class={`${COMPONENT_NAME.value}__detail`}>{content}</div>\n          {quoteDom}\n          {renderActions()}\n        </div>\n      );\n\n      return (\n        <div class={COMPONENT_NAME.value}>\n          <div class={`${COMPONENT_NAME.value}__inner`}>\n            {avatarDom}\n            {contentDom}\n          </div>\n          {replyDom}\n        </div>\n      );\n    };\n  },\n});\n"],"names":["defineComponent","name","props","setup","COMPONENT_NAME","usePrefixClass","renderTNodeJSX","useTNodeJSX","reply","author","datetime","quote","actions","content","avatar","showAuthorDatetime","computed","replyDom","_createVNode","value","quoteDom","avatarDom","authorDatetimeDom","renderActions","length","Array","isArray","map","action","index","contentDom"],"mappings":"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"}