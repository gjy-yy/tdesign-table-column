{"version":3,"file":"animate.mjs","sources":["../../src/notification/animate.ts"],"sourcesContent":["import { PLACEMENT_LIST } from './const';\n\ninterface Keyframe {\n  composite?: CompositeOperationOrAuto;\n  easing?: string;\n  offset?: number | null;\n  [property: string]: string | number | null | undefined;\n}\ntype CompositeOperationOrAuto = 'accumulate' | 'add' | 'auto' | 'replace';\n\nconst ANIMATION_OPTION = {\n  duration: 200,\n  easing: 'linear',\n};\n\nconst fadeIn = (dom: HTMLElement, placement: string) => {\n  if (!dom) return;\n  const offsetHeight = dom?.offsetHeight || 0;\n  const offsetWidth = dom?.offsetWidth || 0;\n  const keyframes: Array<Keyframe> | null = getFadeInKeyframes(placement, offsetWidth, offsetHeight);\n  if (!keyframes) return;\n  dom.animate && dom.animate(keyframes, ANIMATION_OPTION);\n};\n\nconst fadeOut = (dom: HTMLElement, placement: string, onFinish: Function) => {\n  if (!dom) return;\n  const offsetHeight = dom?.offsetHeight || 0;\n  const offsetWidth = dom?.offsetWidth || 0;\n  const keyframes: Array<Keyframe> | null = getFadeOutKeyframes(placement, offsetWidth, offsetHeight);\n  if (!keyframes) return onFinish();\n\n  const animate = dom.animate && dom.animate(keyframes, ANIMATION_OPTION);\n  if (animate) {\n    animate.onfinish = () => {\n      onFinish();\n    };\n  } else {\n    dom.style.display = 'none';\n    onFinish();\n  }\n};\n\nconst getFadeInKeyframes = (placement: string, offsetWidth: Number, offsetHeight: Number): Array<Keyframe> | null => {\n  if (!PLACEMENT_LIST.includes(placement)) return null;\n  if (placement === 'top-right') {\n    return [\n      { opacity: 0, transform: `translateX(${offsetWidth}px)` },\n      { opacity: 1, transform: `translateX(0px)` },\n    ];\n  }\n  if (placement === 'bottom-right') {\n    return [\n      { opacity: 0, transform: `translateX(${offsetWidth}px)`, marginBottom: `-${offsetHeight}px` },\n      { opacity: 1, transform: `translateX(0px)` },\n    ];\n  }\n  if (placement === 'top-left') {\n    return [\n      { opacity: 0, transform: `translateX(-${offsetWidth}px)` },\n      { opacity: 1, transform: `translateX(0px)` },\n    ];\n  }\n  if (placement === 'bottom-left') {\n    return [\n      { opacity: 0, transform: `translateX(-${offsetWidth}px)`, marginBottom: `-${offsetHeight}px` },\n      { opacity: 1, transform: `translateX(0px)` },\n    ];\n  }\n};\n\nconst getFadeOutKeyframes = (placement: string, offsetWidth: Number, offsetHeight: Number): Array<Keyframe> | null => {\n  if (!PLACEMENT_LIST.includes(placement)) return null;\n  if (placement === 'top-right') {\n    return [\n      { opacity: 1, transform: `translateX(0px)` },\n      { opacity: 0, transform: `translateX(${offsetWidth}px)`, marginBottom: `-${offsetHeight}px` },\n    ];\n  }\n  if (placement === 'bottom-right') {\n    return [\n      { opacity: 1, transform: `translateX(0px)` },\n      { opacity: 0, transform: `translateX(${offsetWidth}px)` },\n    ];\n  }\n  if (placement === 'top-left') {\n    return [\n      { opacity: 1, transform: `translateX(0px)` },\n      { opacity: 0, transform: `translateX(-${offsetWidth}px)`, marginBottom: `-${offsetHeight}px` },\n    ];\n  }\n  if (placement === 'bottom-left') {\n    return [\n      { opacity: 1, transform: `translateX(0px)` },\n      { opacity: 0, transform: `translateX(-${offsetWidth}px)` },\n    ];\n  }\n};\n\nexport { fadeIn, fadeOut };\n"],"names":["ANIMATION_OPTION","duration","easing","fadeIn","dom","placement","offsetHeight","offsetWidth","keyframes","getFadeInKeyframes","animate","fadeOut","onFinish","getFadeOutKeyframes","onfinish","style","display","PLACEMENT_LIST","includes","opacity","transform","marginBottom"],"mappings":"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"}