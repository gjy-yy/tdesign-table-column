{"version":3,"file":"SinglePanel.mjs","sources":["../../../src/date-picker/panel/SinglePanel.tsx"],"sourcesContent":["import { defineComponent, PropType, computed } from 'vue';\nimport { useConfig, usePrefixClass } from '../../hooks/useConfig';\nimport TPanelContent from './PanelContent';\nimport TExtraContent from './ExtraContent';\nimport { TdDatePickerProps } from '../type';\nimport { getDefaultFormat, parseToDayjs } from '../../_common/js/date-picker/format';\nimport useTableData from '../hooks/useTableData';\nimport useDisableDate from '../hooks/useDisableDate';\n\nexport default defineComponent({\n  name: 'TSinglePanel',\n  props: {\n    disableDate: [Object, Array, Function] as PropType<TdDatePickerProps['disableDate']>,\n    mode: {\n      type: String as PropType<TdDatePickerProps['mode']>,\n      default: 'date',\n    },\n    format: String as PropType<TdDatePickerProps['format']>,\n    presetsPlacement: {\n      type: String as PropType<TdDatePickerProps['presetsPlacement']>,\n      default: 'bottom',\n    },\n    value: [String, Number, Array, Date] as PropType<TdDatePickerProps['value']>,\n    timePickerProps: Object as PropType<TdDatePickerProps['timePickerProps']>,\n    presets: Object as PropType<TdDatePickerProps['presets']>,\n    enableTimePicker: Boolean,\n    firstDayOfWeek: Number,\n    year: Number,\n    month: Number,\n    time: String,\n    popupVisible: Boolean,\n    onPanelClick: Function,\n    onCellClick: Function,\n    onCellMouseEnter: Function,\n    onCellMouseLeave: Function,\n    onJumperClick: Function,\n    onConfirmClick: Function,\n    onPresetClick: Function,\n    onYearChange: Function,\n    onMonthChange: Function,\n    onTimePickerChange: Function,\n  },\n  setup(props) {\n    const COMPONENT_NAME = usePrefixClass('date-picker__panel');\n    const { globalConfig } = useConfig('datePicker');\n\n    const { format } = getDefaultFormat({\n      mode: props.mode,\n      format: props.format,\n      enableTimePicker: props.enableTimePicker,\n    });\n\n    const disableDateOptions = computed(() =>\n      useDisableDate({\n        format,\n        mode: props.mode,\n        disableDate: props.disableDate,\n      }),\n    );\n\n    const tableData = computed(() =>\n      useTableData({\n        year: props.year,\n        month: props.month,\n        mode: props.mode,\n        start: props.value ? parseToDayjs(props.value, format).toDate() : undefined,\n        firstDayOfWeek: props.firstDayOfWeek || globalConfig.value.firstDayOfWeek,\n        ...disableDateOptions.value,\n      }),\n    );\n\n    const panelContentProps = computed(() => ({\n      format,\n      value: props.value,\n      mode: props.mode,\n      year: props.year,\n      month: props.month,\n      firstDayOfWeek: props.firstDayOfWeek || globalConfig.value.firstDayOfWeek,\n      tableData: tableData.value,\n      popupVisible: props.popupVisible,\n\n      enableTimePicker: props.enableTimePicker,\n      timePickerProps: props.timePickerProps,\n      time: props.time,\n      onMonthChange: props.onMonthChange,\n      onYearChange: props.onYearChange,\n      onJumperClick: props.onJumperClick,\n      onCellClick: props.onCellClick,\n      onCellMouseEnter: props.onCellMouseEnter,\n      onCellMouseLeave: props.onCellMouseLeave,\n      onTimePickerChange: props.onTimePickerChange,\n    }));\n\n    const extraProps = computed(() => ({\n      presets: props.presets,\n      enableTimePicker: props.enableTimePicker,\n      presetsPlacement: props.presetsPlacement,\n      onPresetClick: props.onPresetClick,\n      onConfirmClick: props.onConfirmClick,\n      selectedValue: props.value,\n    }));\n\n    return () => (\n      <div\n        class={[\n          COMPONENT_NAME.value,\n          {\n            [`${COMPONENT_NAME.value}--direction-row`]: ['left', 'right'].includes(props.presetsPlacement),\n          },\n        ]}\n        onClick={(e) => props.onPanelClick?.({ e })}\n      >\n        {['top', 'left'].includes(props.presetsPlacement) ? <TExtraContent {...extraProps.value} /> : null}\n        <TPanelContent {...panelContentProps.value} />\n        {['bottom', 'right'].includes(props.presetsPlacement) ? <TExtraContent {...extraProps.value} /> : null}\n      </div>\n    );\n  },\n});\n"],"names":["defineComponent","name","props","disableDate","Object","Array","Function","mode","type","String","format","presetsPlacement","value","Number","Date","timePickerProps","presets","enableTimePicker","Boolean","firstDayOfWeek","year","month","time","popupVisible","onPanelClick","onCellClick","onCellMouseEnter","onCellMouseLeave","onJumperClick","onConfirmClick","onPresetClick","onYearChange","onMonthChange","onTimePickerChange","setup","COMPONENT_NAME","usePrefixClass","useConfig","globalConfig","getDefaultFormat","disableDateOptions","computed","useDisableDate","tableData","useTableData","start","parseToDayjs","toDate","panelContentProps","extraProps","selectedValue","_createVNode","includes","e"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASA,mBAAeA,eAAgB,CAAA;AAC7BC,EAAAA,IAAM,EAAA,cADuB;AAE7BC,EAAAA,KAAO,EAAA;AACLC,IAAAA,WAAa,EAAA,CAACC,MAAD,EAASC,KAAT,EAAgBC,QAAhB,CADR;AAELC,IAAAA,IAAM,EAAA;AACJC,MAAAA,IAAM,EAAAC,MADF;MAEJ,SAAS,EAAA,MAAA;KAJN;AAMLC,IAAAA,MAAQ,EAAAD,MANH;AAOLE,IAAAA,gBAAkB,EAAA;AAChBH,MAAAA,IAAM,EAAAC,MADU;MAEhB,SAAS,EAAA,QAAA;KATN;IAWLG,KAAO,EAAA,CAACH,MAAD,EAASI,MAAT,EAAiBR,KAAjB,EAAwBS,IAAxB,CAXF;AAYLC,IAAAA,eAAiB,EAAAX,MAZZ;AAaLY,IAAAA,OAAS,EAAAZ,MAbJ;AAcLa,IAAAA,gBAAkB,EAAAC,OAdb;AAeLC,IAAAA,cAAgB,EAAAN,MAfX;AAgBLO,IAAAA,IAAM,EAAAP,MAhBD;AAiBLQ,IAAAA,KAAO,EAAAR,MAjBF;AAkBLS,IAAAA,IAAM,EAAAb,MAlBD;AAmBLc,IAAAA,YAAc,EAAAL,OAnBT;AAoBLM,IAAAA,YAAc,EAAAlB,QApBT;AAqBLmB,IAAAA,WAAa,EAAAnB,QArBR;AAsBLoB,IAAAA,gBAAkB,EAAApB,QAtBb;AAuBLqB,IAAAA,gBAAkB,EAAArB,QAvBb;AAwBLsB,IAAAA,aAAe,EAAAtB,QAxBV;AAyBLuB,IAAAA,cAAgB,EAAAvB,QAzBX;AA0BLwB,IAAAA,aAAe,EAAAxB,QA1BV;AA2BLyB,IAAAA,YAAc,EAAAzB,QA3BT;AA4BL0B,IAAAA,aAAe,EAAA1B,QA5BV;AA6BL2B,IAAAA,kBAAoB,EAAA3B,QAAAA;GA/BO;EAiC7B4B,KAjC6B,EAAA,SAAA,KAAA,CAiCvBhC,KAjCuB,EAiChB;AACL,IAAA,IAAAiC,cAAA,GAAiBC,eAAe,qBAAhC,CAAA;;IACN,IAAyBC,UAAAA,GAAAA,SAAA,CAAU,YAAV,CAAzB;QAAQC,YAAR,cAAQA,YAAR,CAAA;;AAEM,IAAA,IAAA,iBAAA,GAAaC,gBAAiB,CAAA;MAClChC,MAAML,KAAM,CAAAK,IADsB;MAElCG,QAAQR,KAAM,CAAAQ,MAFoB;MAGlCO,kBAAkBf,KAAM,CAAAe,gBAAAA;AAHU,KAAA,CAA9B;QAAEP,MAAF,qBAAEA,MAAF,CAAA;;IAMN,IAAM8B,kBAAqB,GAAAC,QAAA,CAAS,YAAA;AAAA,MAAA,OAClCC,cAAe,CAAA;AACbhC,QAAAA,MAAA,EAAAA,MADa;QAEbH,MAAML,KAAM,CAAAK,IAFC;QAGbJ,aAAaD,KAAM,CAAAC,WAAAA;AAHN,OAAA,CADmB,CAAA;AAAA,KAAT,CAA3B,CAAA;IAQA,IAAMwC,SAAY,GAAAF,QAAA,CAAS,YAAA;AAAA,MAAA,OACzBG,YAAa,CAAA,aAAA,CAAA;QACXxB,MAAMlB,KAAM,CAAAkB,IADD;QAEXC,OAAOnB,KAAM,CAAAmB,KAFF;QAGXd,MAAML,KAAM,CAAAK,IAHD;AAIXsC,QAAAA,KAAA,EAAO3C,MAAMU,KAAN,GAAckC,YAAA,CAAa5C,MAAMU,KAAnB,EAA0BF,MAA1B,CAAA,CAAkCqC,MAAlC,EAAd,GAA2D,KAAA,CAJvD;QAKX5B,cAAgB,EAAAjB,KAAA,CAAMiB,cAAN,IAAwBmB,YAAA,CAAa1B,KAAb,CAAmBO,cAAAA;OACxDqB,EAAAA,kBAAmB,CAAA5B,KANX,CADY,CAAA,CAAA;AAAA,KAAT,CAAlB,CAAA;IAWM,IAAAoC,iBAAA,GAAoBP,SAAS,YAAA;MAAA,OAAO;AACxC/B,QAAAA,MAAA,EAAAA,MADwC;QAExCE,OAAOV,KAAM,CAAAU,KAF2B;QAGxCL,MAAML,KAAM,CAAAK,IAH4B;QAIxCa,MAAMlB,KAAM,CAAAkB,IAJ4B;QAKxCC,OAAOnB,KAAM,CAAAmB,KAL2B;QAMxCF,cAAgB,EAAAjB,KAAA,CAAMiB,cAAN,IAAwBmB,YAAA,CAAa1B,KAAb,CAAmBO,cANnB;QAOxCwB,WAAWA,SAAU,CAAA/B,KAPmB;QAQxCW,cAAcrB,KAAM,CAAAqB,YARoB;QAUxCN,kBAAkBf,KAAM,CAAAe,gBAVgB;QAWxCF,iBAAiBb,KAAM,CAAAa,eAXiB;QAYxCO,MAAMpB,KAAM,CAAAoB,IAZ4B;QAaxCU,eAAe9B,KAAM,CAAA8B,aAbmB;QAcxCD,cAAc7B,KAAM,CAAA6B,YAdoB;QAexCH,eAAe1B,KAAM,CAAA0B,aAfmB;QAgBxCH,aAAavB,KAAM,CAAAuB,WAhBqB;QAiBxCC,kBAAkBxB,KAAM,CAAAwB,gBAjBgB;QAkBxCC,kBAAkBzB,KAAM,CAAAyB,gBAlBgB;QAmBxCM,oBAAoB/B,KAAM,CAAA+B,kBAAAA;OAnBO,CAAA;AAAA,MAA7B,CAAA;IAsBA,IAAAgB,UAAA,GAAaR,SAAS,YAAA;MAAA,OAAO;QACjCzB,SAASd,KAAM,CAAAc,OADkB;QAEjCC,kBAAkBf,KAAM,CAAAe,gBAFS;QAGjCN,kBAAkBT,KAAM,CAAAS,gBAHS;QAIjCmB,eAAe5B,KAAM,CAAA4B,aAJY;QAKjCD,gBAAgB3B,KAAM,CAAA2B,cALW;QAMjCqB,eAAehD,KAAM,CAAAU,KAAAA;OANK,CAAA;AAAA,MAAtB,CAAA;IASC,OAAA,YAAA;AAAA,MAAA,OAAAuC,WAAA,CAAA,KAAA,EAAA;QAAA,OAEI,EAAA,CACLhB,cAAe,CAAAvB,KADV,gCAGCuB,cAAA,CAAevB,KAHhB,EAGyC,iBAAA,CAAA,EAAA,CAAC,MAAD,EAAS,OAAT,EAAkBwC,QAAlB,CAA2BlD,KAAA,CAAMS,gBAAjC,CAHzC,CAFJ,CAAA;AAAA,QAAA,SAAA,EAQM,iBAAC0C,CAAD,EAAA;AAAA,UAAA,IAAA,mBAAA,CAAA;;AAAA,UAAA,OAAA,CAAA,mBAAA,GAAOnD,MAAMsB,YAAb,MAAO,IAAA,IAAA,mBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,mBAAA,CAAA,IAAA,CAAAtB,OAAqB;AAAEmD,YAAAA,GAAAA,CAAAA;AAAF,YAA5B,CAAA;AAAA,SAAA;AARN,OAAA,EAAA,CAUF,CAAC,KAAD,EAAQ,MAAR,CAAA,CAAgBD,QAAhB,CAAyBlD,KAAA,CAAMS,gBAA/B,+BAAsEsC,UAAW,CAAArC,KAAjF,EAAA,IAAA,CAAA,GAA6F,IAV3F,EAWgBoC,WAAAA,CAAAA,aAAAA,EAAAA,iBAAA,CAAkBpC,KAXlC,SAYF,CAAC,QAAD,EAAW,OAAX,EAAoBwC,QAApB,CAA6BlD,KAAA,CAAMS,gBAAnC,CAA0EsC,GAAAA,WAAAA,CAAAA,aAAAA,EAAAA,UAAW,CAAArC,KAArF,UAAiG,IAZ/F,CAAA,CAAA,CAAA;KAAA,CAAA;AAeT,GAAA;AA5G6B,CAAA,CAA/B;;;;"}