{"version":3,"file":"form-item.mjs","sources":["../../node_modules/lodash/assignInWith.js","../../node_modules/lodash/isError.js","../../node_modules/lodash/attempt.js","../../node_modules/lodash/_baseValues.js","../../node_modules/lodash/_customDefaultsAssignIn.js","../../node_modules/lodash/_escapeStringChar.js","../../node_modules/lodash/_reInterpolate.js","../../node_modules/lodash/_escapeHtmlChar.js","../../node_modules/lodash/escape.js","../../node_modules/lodash/_reEscape.js","../../node_modules/lodash/_reEvaluate.js","../../node_modules/lodash/templateSettings.js","../../node_modules/lodash/template.js","../../src/form/form-item.tsx"],"sourcesContent":["var copyObject = require('./_copyObject'),\n    createAssigner = require('./_createAssigner'),\n    keysIn = require('./keysIn');\n\n/**\n * This method is like `_.assignIn` except that it accepts `customizer`\n * which is invoked to produce the assigned values. If `customizer` returns\n * `undefined`, assignment is handled by the method instead. The `customizer`\n * is invoked with five arguments: (objValue, srcValue, key, object, source).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias extendWith\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} [customizer] The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @see _.assignWith\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   return _.isUndefined(objValue) ? srcValue : objValue;\n * }\n *\n * var defaults = _.partialRight(_.assignInWith, customizer);\n *\n * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n  copyObject(source, keysIn(source), object, customizer);\n});\n\nmodule.exports = assignInWith;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike'),\n    isPlainObject = require('./isPlainObject');\n\n/** `Object#toString` result references. */\nvar domExcTag = '[object DOMException]',\n    errorTag = '[object Error]';\n\n/**\n * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n * `SyntaxError`, `TypeError`, or `URIError` object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n * @example\n *\n * _.isError(new Error);\n * // => true\n *\n * _.isError(Error);\n * // => false\n */\nfunction isError(value) {\n  if (!isObjectLike(value)) {\n    return false;\n  }\n  var tag = baseGetTag(value);\n  return tag == errorTag || tag == domExcTag ||\n    (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n}\n\nmodule.exports = isError;\n","var apply = require('./_apply'),\n    baseRest = require('./_baseRest'),\n    isError = require('./isError');\n\n/**\n * Attempts to invoke `func`, returning either the result or the caught error\n * object. Any additional arguments are provided to `func` when it's invoked.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Util\n * @param {Function} func The function to attempt.\n * @param {...*} [args] The arguments to invoke `func` with.\n * @returns {*} Returns the `func` result or error object.\n * @example\n *\n * // Avoid throwing errors for invalid selectors.\n * var elements = _.attempt(function(selector) {\n *   return document.querySelectorAll(selector);\n * }, '>_>');\n *\n * if (_.isError(elements)) {\n *   elements = [];\n * }\n */\nvar attempt = baseRest(function(func, args) {\n  try {\n    return apply(func, undefined, args);\n  } catch (e) {\n    return isError(e) ? e : new Error(e);\n  }\n});\n\nmodule.exports = attempt;\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n","var eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n * of source objects to the destination object for all destination properties\n * that resolve to `undefined`.\n *\n * @private\n * @param {*} objValue The destination value.\n * @param {*} srcValue The source value.\n * @param {string} key The key of the property to assign.\n * @param {Object} object The parent object of `objValue`.\n * @returns {*} Returns the value to assign.\n */\nfunction customDefaultsAssignIn(objValue, srcValue, key, object) {\n  if (objValue === undefined ||\n      (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n    return srcValue;\n  }\n  return objValue;\n}\n\nmodule.exports = customDefaultsAssignIn;\n","/** Used to escape characters for inclusion in compiled string literals. */\nvar stringEscapes = {\n  '\\\\': '\\\\',\n  \"'\": \"'\",\n  '\\n': 'n',\n  '\\r': 'r',\n  '\\u2028': 'u2028',\n  '\\u2029': 'u2029'\n};\n\n/**\n * Used by `_.template` to escape characters for inclusion in compiled string literals.\n *\n * @private\n * @param {string} chr The matched character to escape.\n * @returns {string} Returns the escaped character.\n */\nfunction escapeStringChar(chr) {\n  return '\\\\' + stringEscapes[chr];\n}\n\nmodule.exports = escapeStringChar;\n","/** Used to match template delimiters. */\nvar reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\nmodule.exports = reInterpolate;\n","var basePropertyOf = require('./_basePropertyOf');\n\n/** Used to map characters to HTML entities. */\nvar htmlEscapes = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\n\n/**\n * Used by `_.escape` to convert characters to HTML entities.\n *\n * @private\n * @param {string} chr The matched character to escape.\n * @returns {string} Returns the escaped character.\n */\nvar escapeHtmlChar = basePropertyOf(htmlEscapes);\n\nmodule.exports = escapeHtmlChar;\n","var escapeHtmlChar = require('./_escapeHtmlChar'),\n    toString = require('./toString');\n\n/** Used to match HTML entities and HTML characters. */\nvar reUnescapedHtml = /[&<>\"']/g,\n    reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n/**\n * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n * corresponding HTML entities.\n *\n * **Note:** No other characters are escaped. To escape additional\n * characters use a third-party library like [_he_](https://mths.be/he).\n *\n * Though the \">\" character is escaped for symmetry, characters like\n * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n * unless they're part of a tag or unquoted attribute value. See\n * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n * (under \"semi-related fun fact\") for more details.\n *\n * When working with HTML you should always\n * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n * XSS vectors.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category String\n * @param {string} [string=''] The string to escape.\n * @returns {string} Returns the escaped string.\n * @example\n *\n * _.escape('fred, barney, & pebbles');\n * // => 'fred, barney, &amp; pebbles'\n */\nfunction escape(string) {\n  string = toString(string);\n  return (string && reHasUnescapedHtml.test(string))\n    ? string.replace(reUnescapedHtml, escapeHtmlChar)\n    : string;\n}\n\nmodule.exports = escape;\n","/** Used to match template delimiters. */\nvar reEscape = /<%-([\\s\\S]+?)%>/g;\n\nmodule.exports = reEscape;\n","/** Used to match template delimiters. */\nvar reEvaluate = /<%([\\s\\S]+?)%>/g;\n\nmodule.exports = reEvaluate;\n","var escape = require('./escape'),\n    reEscape = require('./_reEscape'),\n    reEvaluate = require('./_reEvaluate'),\n    reInterpolate = require('./_reInterpolate');\n\n/**\n * By default, the template delimiters used by lodash are like those in\n * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n * following template settings to use alternative delimiters.\n *\n * @static\n * @memberOf _\n * @type {Object}\n */\nvar templateSettings = {\n\n  /**\n   * Used to detect `data` property values to be HTML-escaped.\n   *\n   * @memberOf _.templateSettings\n   * @type {RegExp}\n   */\n  'escape': reEscape,\n\n  /**\n   * Used to detect code to be evaluated.\n   *\n   * @memberOf _.templateSettings\n   * @type {RegExp}\n   */\n  'evaluate': reEvaluate,\n\n  /**\n   * Used to detect `data` property values to inject.\n   *\n   * @memberOf _.templateSettings\n   * @type {RegExp}\n   */\n  'interpolate': reInterpolate,\n\n  /**\n   * Used to reference the data object in the template text.\n   *\n   * @memberOf _.templateSettings\n   * @type {string}\n   */\n  'variable': '',\n\n  /**\n   * Used to import variables into the compiled template.\n   *\n   * @memberOf _.templateSettings\n   * @type {Object}\n   */\n  'imports': {\n\n    /**\n     * A reference to the `lodash` function.\n     *\n     * @memberOf _.templateSettings.imports\n     * @type {Function}\n     */\n    '_': { 'escape': escape }\n  }\n};\n\nmodule.exports = templateSettings;\n","var assignInWith = require('./assignInWith'),\n    attempt = require('./attempt'),\n    baseValues = require('./_baseValues'),\n    customDefaultsAssignIn = require('./_customDefaultsAssignIn'),\n    escapeStringChar = require('./_escapeStringChar'),\n    isError = require('./isError'),\n    isIterateeCall = require('./_isIterateeCall'),\n    keys = require('./keys'),\n    reInterpolate = require('./_reInterpolate'),\n    templateSettings = require('./templateSettings'),\n    toString = require('./toString');\n\n/** Error message constants. */\nvar INVALID_TEMPL_VAR_ERROR_TEXT = 'Invalid `variable` option passed into `_.template`';\n\n/** Used to match empty string literals in compiled template source. */\nvar reEmptyStringLeading = /\\b__p \\+= '';/g,\n    reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n    reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n/**\n * Used to validate the `validate` option in `_.template` variable.\n *\n * Forbids characters which could potentially change the meaning of the function argument definition:\n * - \"(),\" (modification of function parameters)\n * - \"=\" (default value)\n * - \"[]{}\" (destructuring of function parameters)\n * - \"/\" (beginning of a comment)\n * - whitespace\n */\nvar reForbiddenIdentifierChars = /[()=,{}\\[\\]\\/\\s]/;\n\n/**\n * Used to match\n * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n */\nvar reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n/** Used to ensure capturing order of template delimiters. */\nvar reNoMatch = /($^)/;\n\n/** Used to match unescaped characters in compiled string literals. */\nvar reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates a compiled template function that can interpolate data properties\n * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n * properties may be accessed as free variables in the template. If a setting\n * object is given, it takes precedence over `_.templateSettings` values.\n *\n * **Note:** In the development build `_.template` utilizes\n * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n * for easier debugging.\n *\n * For more information on precompiling templates see\n * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n *\n * For more information on Chrome extension sandboxes see\n * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category String\n * @param {string} [string=''] The template string.\n * @param {Object} [options={}] The options object.\n * @param {RegExp} [options.escape=_.templateSettings.escape]\n *  The HTML \"escape\" delimiter.\n * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n *  The \"evaluate\" delimiter.\n * @param {Object} [options.imports=_.templateSettings.imports]\n *  An object to import into the template as free variables.\n * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n *  The \"interpolate\" delimiter.\n * @param {string} [options.sourceURL='templateSources[n]']\n *  The sourceURL of the compiled template.\n * @param {string} [options.variable='obj']\n *  The data object variable name.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the compiled template function.\n * @example\n *\n * // Use the \"interpolate\" delimiter to create a compiled template.\n * var compiled = _.template('hello <%= user %>!');\n * compiled({ 'user': 'fred' });\n * // => 'hello fred!'\n *\n * // Use the HTML \"escape\" delimiter to escape data property values.\n * var compiled = _.template('<b><%- value %></b>');\n * compiled({ 'value': '<script>' });\n * // => '<b>&lt;script&gt;</b>'\n *\n * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n * compiled({ 'users': ['fred', 'barney'] });\n * // => '<li>fred</li><li>barney</li>'\n *\n * // Use the internal `print` function in \"evaluate\" delimiters.\n * var compiled = _.template('<% print(\"hello \" + user); %>!');\n * compiled({ 'user': 'barney' });\n * // => 'hello barney!'\n *\n * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n * // Disable support by replacing the \"interpolate\" delimiter.\n * var compiled = _.template('hello ${ user }!');\n * compiled({ 'user': 'pebbles' });\n * // => 'hello pebbles!'\n *\n * // Use backslashes to treat delimiters as plain text.\n * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n * compiled({ 'value': 'ignored' });\n * // => '<%- value %>'\n *\n * // Use the `imports` option to import `jQuery` as `jq`.\n * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n * compiled({ 'users': ['fred', 'barney'] });\n * // => '<li>fred</li><li>barney</li>'\n *\n * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n * compiled(data);\n * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n *\n * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n * compiled.source;\n * // => function(data) {\n * //   var __t, __p = '';\n * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n * //   return __p;\n * // }\n *\n * // Use custom template delimiters.\n * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n * var compiled = _.template('hello {{ user }}!');\n * compiled({ 'user': 'mustache' });\n * // => 'hello mustache!'\n *\n * // Use the `source` property to inline compiled templates for meaningful\n * // line numbers in error messages and stack traces.\n * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n *   var JST = {\\\n *     \"main\": ' + _.template(mainText).source + '\\\n *   };\\\n * ');\n */\nfunction template(string, options, guard) {\n  // Based on John Resig's `tmpl` implementation\n  // (http://ejohn.org/blog/javascript-micro-templating/)\n  // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n  var settings = templateSettings.imports._.templateSettings || templateSettings;\n\n  if (guard && isIterateeCall(string, options, guard)) {\n    options = undefined;\n  }\n  string = toString(string);\n  options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n  var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n      importsKeys = keys(imports),\n      importsValues = baseValues(imports, importsKeys);\n\n  var isEscaping,\n      isEvaluating,\n      index = 0,\n      interpolate = options.interpolate || reNoMatch,\n      source = \"__p += '\";\n\n  // Compile the regexp to match each delimiter.\n  var reDelimiters = RegExp(\n    (options.escape || reNoMatch).source + '|' +\n    interpolate.source + '|' +\n    (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n    (options.evaluate || reNoMatch).source + '|$'\n  , 'g');\n\n  // Use a sourceURL for easier debugging.\n  // The sourceURL gets injected into the source that's eval-ed, so be careful\n  // to normalize all kinds of whitespace, so e.g. newlines (and unicode versions of it) can't sneak in\n  // and escape the comment, thus injecting code that gets evaled.\n  var sourceURL = hasOwnProperty.call(options, 'sourceURL')\n    ? ('//# sourceURL=' +\n       (options.sourceURL + '').replace(/\\s/g, ' ') +\n       '\\n')\n    : '';\n\n  string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n    interpolateValue || (interpolateValue = esTemplateValue);\n\n    // Escape characters that can't be included in string literals.\n    source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n    // Replace delimiters with snippets.\n    if (escapeValue) {\n      isEscaping = true;\n      source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n    }\n    if (evaluateValue) {\n      isEvaluating = true;\n      source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n    }\n    if (interpolateValue) {\n      source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n    }\n    index = offset + match.length;\n\n    // The JS engine embedded in Adobe products needs `match` returned in\n    // order to produce the correct `offset` value.\n    return match;\n  });\n\n  source += \"';\\n\";\n\n  // If `variable` is not specified wrap a with-statement around the generated\n  // code to add the data object to the top of the scope chain.\n  var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n  if (!variable) {\n    source = 'with (obj) {\\n' + source + '\\n}\\n';\n  }\n  // Throw an error if a forbidden character was found in `variable`, to prevent\n  // potential command injection attacks.\n  else if (reForbiddenIdentifierChars.test(variable)) {\n    throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT);\n  }\n\n  // Cleanup code by stripping empty strings.\n  source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n    .replace(reEmptyStringMiddle, '$1')\n    .replace(reEmptyStringTrailing, '$1;');\n\n  // Frame code as the function body.\n  source = 'function(' + (variable || 'obj') + ') {\\n' +\n    (variable\n      ? ''\n      : 'obj || (obj = {});\\n'\n    ) +\n    \"var __t, __p = ''\" +\n    (isEscaping\n       ? ', __e = _.escape'\n       : ''\n    ) +\n    (isEvaluating\n      ? ', __j = Array.prototype.join;\\n' +\n        \"function print() { __p += __j.call(arguments, '') }\\n\"\n      : ';\\n'\n    ) +\n    source +\n    'return __p\\n}';\n\n  var result = attempt(function() {\n    return Function(importsKeys, sourceURL + 'return ' + source)\n      .apply(undefined, importsValues);\n  });\n\n  // Provide the compiled function's source by its `toString` method or\n  // the `source` property as a convenience for inlining compiled templates.\n  result.source = source;\n  if (isError(result)) {\n    throw result;\n  }\n  return result;\n}\n\nmodule.exports = template;\n","import {\n  computed,\n  defineComponent,\n  inject,\n  nextTick,\n  onBeforeUnmount,\n  onMounted,\n  provide,\n  reactive,\n  ref,\n  toRefs,\n  VNode,\n  watch,\n} from 'vue';\nimport {\n  CheckCircleFilledIcon as TdCheckCircleFilledIcon,\n  CloseCircleFilledIcon as TdCloseCircleFilledIcon,\n  ErrorCircleFilledIcon as TdErrorCircleFilledIcon,\n} from 'tdesign-icons-vue-next';\n\nimport cloneDeep from 'lodash/cloneDeep';\nimport lodashGet from 'lodash/get';\nimport lodashSet from 'lodash/set';\nimport isNil from 'lodash/isNil';\nimport lodashTemplate from 'lodash/template';\nimport { validate } from './form-model';\nimport {\n  AllValidateResult,\n  Data,\n  FormErrorMessage,\n  FormItemValidateMessage,\n  FormRule,\n  ValidateTriggerType,\n  ValueType,\n} from './type';\nimport props from './form-item-props';\nimport {\n  AnalysisValidateResult,\n  ErrorListType,\n  FormInjectionKey,\n  FormItemContext,\n  FormItemInjectionKey,\n  SuccessListType,\n  useCLASSNAMES,\n  ValidateStatus,\n} from './const';\n\nimport { useConfig, usePrefixClass, useTNodeJSX } from '../hooks';\nimport { useGlobalIcon } from '../hooks/useGlobalIcon';\n\ntype IconConstructor = typeof TdErrorCircleFilledIcon;\n\nexport type FormItemValidateResult<T extends Data = Data> = { [key in keyof T]: boolean | AllValidateResult[] };\n\nexport default defineComponent({\n  name: 'TFormItem',\n\n  props: { ...props },\n  setup(props, { slots }) {\n    const renderContent = useTNodeJSX();\n    const CLASS_NAMES = useCLASSNAMES();\n    const { globalConfig } = useConfig('form');\n    const { CheckCircleFilledIcon, CloseCircleFilledIcon, ErrorCircleFilledIcon } = useGlobalIcon({\n      CheckCircleFilledIcon: TdCheckCircleFilledIcon,\n      CloseCircleFilledIcon: TdCloseCircleFilledIcon,\n      ErrorCircleFilledIcon: TdErrorCircleFilledIcon,\n    });\n    const form = inject(FormInjectionKey, undefined);\n\n    const FORM_ITEM_CLASS_PREFIX = usePrefixClass('form-item__');\n\n    const needRequiredMark = computed(() => {\n      const { requiredMark } = props;\n      if (typeof requiredMark === 'boolean') return requiredMark;\n      const parentRequiredMark =\n        form?.requiredMark === undefined ? globalConfig.value.requiredMark : form?.requiredMark;\n      const isRequired = innerRules.value.filter((rule) => rule.required).length > 0;\n      return Boolean(parentRequiredMark && isRequired);\n    });\n\n    const hasLabel = computed(() => slots.label || props.label);\n    const hasColon = computed(() => !!(form?.colon && hasLabel.value));\n    const FROM_LABEL = usePrefixClass('form__label');\n    const labelAlign = computed(() => (isNil(props.labelAlign) ? form?.labelAlign : props.labelAlign));\n    const labelWidth = computed(() => (isNil(props.labelWidth) ? form?.labelWidth : props.labelWidth));\n\n    const labelClasses = computed(() => [\n      CLASS_NAMES.value.label,\n      {\n        [`${FROM_LABEL.value}--required`]: needRequiredMark.value,\n        [`${FROM_LABEL.value}--colon`]: hasColon.value,\n        [`${FROM_LABEL.value}--top`]: hasLabel.value && (labelAlign.value === 'top' || !labelWidth.value),\n        [`${FROM_LABEL.value}--left`]: labelAlign.value === 'left' && labelWidth.value,\n        [`${FROM_LABEL.value}--right`]: labelAlign.value === 'right' && labelWidth.value,\n      },\n    ]);\n\n    const renderLabel = () => {\n      if (Number(labelWidth.value) === 0) return;\n\n      let labelStyle = {};\n      if (labelWidth.value && labelAlign.value !== 'top') {\n        if (typeof labelWidth.value === 'number') {\n          labelStyle = { width: `${labelWidth.value}px` };\n        } else {\n          labelStyle = { width: labelWidth.value };\n        }\n      }\n\n      return (\n        <div class={labelClasses.value} style={labelStyle}>\n          <label for={props.for}>{renderContent('label')}</label>\n        </div>\n      );\n    };\n\n    /** Suffix Icon */\n    const getDefaultIcon = (): VNode => {\n      const resultIcon = (Icon: IconConstructor) => (\n        <span class={CLASS_NAMES.value.status}>\n          <Icon />\n        </span>\n      );\n      const list = errorList.value;\n      if (verifyStatus.value === ValidateStatus.SUCCESS) {\n        return resultIcon(CheckCircleFilledIcon);\n      }\n      if (list?.[0]) {\n        const type = list[0].type || 'error';\n        const icon =\n          {\n            error: CloseCircleFilledIcon,\n            warning: ErrorCircleFilledIcon,\n          }[type] || CheckCircleFilledIcon;\n        return resultIcon(icon as IconConstructor);\n      }\n      return null;\n    };\n    const renderSuffixIcon = () => {\n      const { statusIcon } = props;\n      if (statusIcon === false) return;\n\n      let resultIcon = renderContent('statusIcon', { defaultNode: getDefaultIcon() });\n      if (resultIcon) return <span class={CLASS_NAMES.value.status}>{resultIcon}</span>;\n      if (resultIcon === false) return;\n\n      resultIcon = form?.renderContent('statusIcon', { defaultNode: getDefaultIcon() });\n      if (resultIcon) return resultIcon;\n    };\n    /** Suffix Icon END */\n\n    /** Content Style */\n    const errorClasses = computed(() => {\n      if (!showErrorMessage.value) return '';\n      if (verifyStatus.value === ValidateStatus.SUCCESS) {\n        return props.successBorder\n          ? [CLASS_NAMES.value.success, CLASS_NAMES.value.successBorder].join(' ')\n          : CLASS_NAMES.value.success;\n      }\n      if (!errorList.value.length) return;\n      const type = errorList.value[0].type || 'error';\n      return type === 'error' ? CLASS_NAMES.value.error : CLASS_NAMES.value.warning;\n    });\n    const contentClasses = computed(() => [CLASS_NAMES.value.controls, errorClasses.value]);\n    const contentStyle = computed(() => {\n      let contentStyle = {};\n      if (labelWidth.value && labelAlign.value !== 'top') {\n        if (typeof labelWidth.value === 'number') {\n          contentStyle = { marginLeft: `${labelWidth.value}px` };\n        } else {\n          contentStyle = { marginLeft: labelWidth.value };\n        }\n      }\n\n      return contentStyle;\n    });\n    /** Content Style END */\n\n    const errorList = ref<ErrorListType[]>([]);\n    const successList = ref<SuccessListType[]>([]);\n    const verifyStatus = ref(ValidateStatus.TO_BE_VALIDATED);\n    const resetValidating = ref(false);\n    const needResetField = ref(false);\n\n    const resetHandler = () => {\n      needResetField.value = false;\n      errorList.value = [];\n      successList.value = [];\n      verifyStatus.value = ValidateStatus.TO_BE_VALIDATED;\n    };\n    const getEmptyValue = (): ValueType => {\n      const type = Object.prototype.toString.call(lodashGet(form?.data, props.name));\n      let emptyValue: ValueType;\n      if (type === '[object String]') {\n        emptyValue = '';\n      }\n      if (type === '[object Array]') {\n        emptyValue = [];\n      }\n      if (type === '[object Object]') {\n        emptyValue = {};\n      }\n      return emptyValue;\n    };\n    const resetField = async (resetType: 'initial' | 'empty' | undefined = form?.resetType) => {\n      if (!props.name) return;\n\n      if (resetType === 'empty') lodashSet(form?.data, props.name, getEmptyValue());\n      else if (resetType === 'initial') lodashSet(form?.data, props.name, initialValue.value);\n\n      await nextTick();\n      if (resetValidating.value) {\n        needResetField.value = true;\n      } else {\n        resetHandler();\n      }\n    };\n\n    const errorMessages = computed<FormErrorMessage>(() => form?.errorMessage ?? globalConfig.value.errorMessage);\n    const innerRules = computed<FormRule[]>(() => {\n      if (props.rules?.length) return props.rules;\n      if (!props.name) return [];\n      const index = `${props.name}`.lastIndexOf('.') || -1;\n      const pRuleName = `${props.name}`.slice(index + 1);\n      return lodashGet(form?.rules, props.name) || lodashGet(form?.rules, pRuleName) || [];\n    });\n\n    const analysisValidateResult = async (trigger: ValidateTriggerType): Promise<AnalysisValidateResult> => {\n      const result: AnalysisValidateResult = {\n        successList: [],\n        errorList: [],\n        rules: [],\n        resultList: [],\n        allowSetValue: false,\n      };\n      result.rules =\n        trigger === 'all'\n          ? innerRules.value\n          : innerRules.value.filter((item) => (item.trigger || 'change') === trigger);\n      if (innerRules.value.length && !result.rules?.length) {\n        return result;\n      }\n      result.allowSetValue = true;\n      result.resultList = await validate(value.value, result.rules);\n      result.errorList = result.resultList\n        .filter((item) => item.result !== true)\n        .map((item: ErrorListType) => {\n          Object.keys(item).forEach((key) => {\n            if (!item.message && errorMessages.value[key]) {\n              const compiled = lodashTemplate(errorMessages.value[key]);\n              const name = typeof props.label === 'string' ? props.label : props.name;\n              item.message = compiled({\n                name,\n                validate: item[key],\n              });\n            }\n          });\n          return item;\n        });\n      // 仅有自定义校验方法才会存在 successList\n      result.successList = result.resultList.filter(\n        (item) => item.result === true && item.message && item.type === 'success',\n      ) as SuccessListType[];\n\n      return result;\n    };\n    const validateHandler = async <T extends Data = Data>(\n      trigger: ValidateTriggerType,\n      showErrorMessage?: boolean,\n    ): Promise<FormItemValidateResult<T>> => {\n      resetValidating.value = true;\n      // undefined | boolean\n      freeShowErrorMessage.value = showErrorMessage;\n      const {\n        successList: innerSuccessList,\n        errorList: innerErrorList,\n        rules,\n        resultList,\n        allowSetValue,\n      } = await analysisValidateResult(trigger);\n\n      if (allowSetValue) {\n        successList.value = innerSuccessList;\n        errorList.value = innerErrorList;\n      }\n      // 根据校验结果设置校验状态\n      if (rules.length) {\n        verifyStatus.value = innerErrorList.length ? ValidateStatus.FAIL : ValidateStatus.SUCCESS;\n      } else {\n        verifyStatus.value = ValidateStatus.TO_BE_VALIDATED;\n      }\n      // 重置处理\n      if (needResetField.value) {\n        resetHandler();\n      }\n      resetValidating.value = false;\n\n      return {\n        [props.name]: innerErrorList.length === 0 ? true : resultList,\n      } as FormItemValidateResult<T>;\n    };\n    const validateOnly = async <T extends Data>(trigger: ValidateTriggerType): Promise<FormItemValidateResult<T>> => {\n      const { errorList: innerErrorList, resultList } = await analysisValidateResult(trigger);\n\n      return {\n        [props.name]: innerErrorList.length === 0 ? true : resultList,\n      } as FormItemValidateResult<T>;\n    };\n\n    const setValidateMessage = (validateMessage: FormItemValidateMessage[]) => {\n      if (!validateMessage && !Array.isArray(validateMessage)) return;\n      if (validateMessage.length === 0) {\n        errorList.value = [];\n        verifyStatus.value = ValidateStatus.SUCCESS;\n      }\n      errorList.value = validateMessage.map((item) => ({ ...item, result: false }));\n      verifyStatus.value = ValidateStatus.FAIL;\n    };\n\n    const value = computed<ValueType>(() => form?.data && lodashGet(form?.data, props.name));\n    const initialValue = ref<ValueType>(undefined);\n    const { name } = toRefs(props);\n    const context: FormItemContext = reactive({\n      name,\n      resetHandler,\n      resetField,\n      validate: validateHandler,\n      validateOnly,\n      setValidateMessage,\n    });\n\n    onMounted(() => {\n      initialValue.value = cloneDeep(value.value);\n      form?.children.push(context);\n    });\n    onBeforeUnmount(() => {\n      if (form) form.children = form?.children.filter((ctx) => ctx !== context);\n    });\n    watch(\n      value,\n      async () => {\n        await validateHandler('change');\n      },\n      { deep: true },\n    );\n\n    const freeShowErrorMessage = ref<boolean>(undefined);\n    const showErrorMessage = computed(() => {\n      if (typeof freeShowErrorMessage.value === 'boolean') return freeShowErrorMessage.value;\n      if (typeof props.showErrorMessage === 'boolean') return props.showErrorMessage;\n      return form?.showErrorMessage;\n    });\n\n    const classes = computed(() => [\n      CLASS_NAMES.value.formItem,\n      FORM_ITEM_CLASS_PREFIX.value + (props.name || ''),\n      {\n        [CLASS_NAMES.value.formItemWithHelp]: helpNode.value,\n        [CLASS_NAMES.value.formItemWithExtra]: extraNode.value,\n      },\n    ]);\n    const helpNode = computed<VNode>(() => {\n      const help = renderContent('help');\n      if (help) return <div class={CLASS_NAMES.value.help}>{help}</div>;\n      return null;\n    });\n    const extraNode = computed<VNode>(() => {\n      const getExtraNode = (content: string) => <div class={CLASS_NAMES.value.extra}>{content}</div>;\n      const list = errorList.value;\n      if (showErrorMessage.value && list?.[0]?.message) {\n        return getExtraNode(list[0].message);\n      }\n      if (successList.value.length) {\n        return getExtraNode(successList.value[0].message);\n      }\n      return null;\n    });\n\n    const handleBlur = async () => {\n      await validateHandler('blur');\n    };\n    provide(FormItemInjectionKey, {\n      handleBlur,\n    });\n\n    return () => (\n      <div class={classes.value}>\n        {renderLabel()}\n        <div class={contentClasses.value} style={contentStyle.value}>\n          <div class={CLASS_NAMES.value.controlsContent}>\n            {renderContent('default')}\n            {renderSuffixIcon()}\n          </div>\n          {[helpNode.value, extraNode.value]}\n        </div>\n      </div>\n    );\n  },\n});\n"],"names":["copyObject","require$$0","createAssigner","require$$1","keysIn","require$$2","assignInWith","object","source","srcIndex","customizer","assignInWith_1","baseGetTag","isObjectLike","isPlainObject","domExcTag","errorTag","isError","value","tag","message","name","isError_1","apply","baseRest","attempt","func","args","undefined","e","Error","attempt_1","arrayMap","baseValues","props","key","_baseValues","eq","objectProto","Object","prototype","hasOwnProperty","customDefaultsAssignIn","objValue","srcValue","call","_customDefaultsAssignIn","stringEscapes","escapeStringChar","chr","_escapeStringChar","reInterpolate","_reInterpolate","basePropertyOf","htmlEscapes","escapeHtmlChar","_escapeHtmlChar","toString","reUnescapedHtml","reHasUnescapedHtml","RegExp","escape","string","test","replace","_escape","reEscape","_reEscape","reEvaluate","_reEvaluate","require$$3","templateSettings","templateSettings_1","require$$4","require$$5","isIterateeCall","require$$6","keys","require$$7","require$$8","require$$9","require$$10","INVALID_TEMPL_VAR_ERROR_TEXT","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reForbiddenIdentifierChars","reEsTemplate","reNoMatch","reUnescapedString","template","options","guard","settings","imports","_","importsKeys","importsValues","isEscaping","isEvaluating","index","interpolate","reDelimiters","evaluate","sourceURL","match","escapeValue","interpolateValue","esTemplateValue","evaluateValue","offset","slice","length","variable","result","Function","template_1","defineComponent","setup","slots","renderContent","useTNodeJSX","CLASS_NAMES","useCLASSNAMES","useConfig","globalConfig","useGlobalIcon","CheckCircleFilledIcon","TdCheckCircleFilledIcon","CloseCircleFilledIcon","TdCloseCircleFilledIcon","ErrorCircleFilledIcon","TdErrorCircleFilledIcon","form","inject","FormInjectionKey","FORM_ITEM_CLASS_PREFIX","usePrefixClass","needRequiredMark","computed","requiredMark","parentRequiredMark","isRequired","innerRules","filter","rule","required","Boolean","hasLabel","label","hasColon","colon","FROM_LABEL","labelAlign","isNil","labelWidth","labelClasses","renderLabel","Number","labelStyle","width","_createVNode","getDefaultIcon","resultIcon","Icon","status","list","errorList","verifyStatus","ValidateStatus","SUCCESS","type","icon","error","warning","renderSuffixIcon","statusIcon","defaultNode","errorClasses","showErrorMessage","successBorder","success","join","contentClasses","controls","contentStyle","marginLeft","ref","successList","TO_BE_VALIDATED","resetValidating","needResetField","resetHandler","getEmptyValue","lodashGet","data","emptyValue","resetField","_regeneratorRuntime","resetType","lodashSet","initialValue","nextTick","errorMessages","errorMessage","rules","lastIndexOf","pRuleName","analysisValidateResult","trigger","resultList","allowSetValue","item","validate","map","forEach","compiled","lodashTemplate","validateHandler","freeShowErrorMessage","innerSuccessList","innerErrorList","FAIL","validateOnly","setValidateMessage","validateMessage","Array","isArray","toRefs","context","reactive","onMounted","cloneDeep","children","push","onBeforeUnmount","ctx","watch","deep","classes","formItem","formItemWithHelp","helpNode","formItemWithExtra","extraNode","help","getExtraNode","content","extra","handleBlur","provide","FormItemInjectionKey","controlsContent"],"mappings":"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a,GAAG4B,cARpB;AAAA,IASIR,gBAAgB,GAAGS,kBATvB;AAAA,IAUIvB,QAAQ,GAAGwB,UAVf,CAAA;AAYA;;AACA,IAAIC,4BAA4B,GAAG,oDAAnC,CAAA;AAEA;;AACA,IAAIC,oBAAoB,GAAG,gBAA3B;AAAA,IACIC,mBAAmB,GAAG,oBAD1B;AAAA,IAEIC,qBAAqB,GAAG,+BAF5B,CAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIC,0BAA0B,GAAG,kBAAjC,CAAA;AAEA;AACA;AACA;AACA;;AACA,IAAIC,YAAY,GAAG,iCAAnB,CAAA;AAEA;;AACA,IAAIC,SAAS,GAAG,MAAhB,CAAA;AAEA;;AACA,IAAIC,iBAAiB,GAAG,wBAAxB,CAAA;AAEA;;AACA,IAAInD,WAAW,GAAGC,MAAM,CAACC,SAAzB,CAAA;AAEA;;AACA,IAAIC,cAAc,GAAGH,WAAW,CAACG,cAAjC,CAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASiD,QAAT,CAAkB5B,MAAlB,EAA0B6B,OAA1B,EAAmCC,KAAnC,EAA0C;AAC1C;AACA;AACA;EACE,IAAIC,QAAQ,GAAGtB,gBAAgB,CAACuB,OAAjB,CAAyBC,CAAzB,C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"}