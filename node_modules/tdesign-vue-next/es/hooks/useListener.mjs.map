{"version":3,"file":"useListener.mjs","sources":["../../src/hooks/useListener.tsx"],"sourcesContent":["import { onBeforeUnmount, onMounted } from 'vue';\n\n/**\n * 用于订阅Listener事件\n * @param updateSize\n */\nexport function useListener(type: string, listener: () => void): void {\n  onMounted(() => {\n    window.addEventListener(type, listener);\n  });\n\n  onBeforeUnmount(() => {\n    window.removeEventListener(type, listener);\n  });\n}\n\nexport function useResize(listener: () => void, observer?: HTMLElement) {\n  useListener('resize', listener);\n\n  let resizeObserver: ResizeObserver = null;\n\n  onMounted(() => {\n    if (!window.ResizeObserver || !observer) return;\n    resizeObserver = new window.ResizeObserver(listener);\n    resizeObserver.observe(observer);\n  });\n\n  onBeforeUnmount(() => {\n    resizeObserver?.disconnect();\n  });\n}\n"],"names":["useListener","type","listener","onMounted","window","addEventListener","onBeforeUnmount","removeEventListener","useResize","observer","resizeObserver","ResizeObserver","observe","disconnect"],"mappings":";;;;;;;;AAMgB,SAAAA,WAAA,CAAYC,IAAZ,EAA0BC,QAA1B,EAAsD;AACpEC,EAAAA,SAAA,CAAU,YAAM;AACPC,IAAAA,MAAA,CAAAC,gBAAA,CAAiBJ,IAAjB,EAAuBC,QAAvB,CAAA,CAAA;AACR,GAFD,CAAA,CAAA;AAIAI,EAAAA,eAAA,CAAgB,YAAM;AACbF,IAAAA,MAAA,CAAAG,mBAAA,CAAoBN,IAApB,EAA0BC,QAA1B,CAAA,CAAA;AACR,GAFD,CAAA,CAAA;AAGF,CAAA;AAEgB,SAAAM,SAAA,CAAUN,QAAV,EAAgCO,QAAhC,EAAwD;AACtET,EAAAA,WAAA,CAAY,QAAZ,EAAsBE,QAAtB,CAAA,CAAA;EAEA,IAAIQ,cAAiC,GAAA,IAArC,CAAA;AAEAP,EAAAA,SAAA,CAAU,YAAM;AACV,IAAA,IAAA,CAACC,MAAO,CAAAO,cAAR,IAA0B,CAACF,QAA3B,EAAqC,OAAA;AACxBC,IAAAA,cAAA,GAAA,IAAIN,MAAO,CAAAO,cAAX,CAA0BT,QAA1B,CAAA,CAAA;IACjBQ,cAAA,CAAeE,OAAf,CAAuBH,QAAvB,CAAA,CAAA;AACD,GAJD,CAAA,CAAA;AAMAH,EAAAA,eAAA,CAAgB,YAAM;AAAA,IAAA,IAAA,eAAA,CAAA;;IACpB,CAAAI,eAAAA,GAAAA,cAAA,MAAA,IAAA,IAAA,eAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,eAAA,CAAgBG,UAAhB,EAAA,CAAA;AACD,GAFD,CAAA,CAAA;AAGF;;;;"}