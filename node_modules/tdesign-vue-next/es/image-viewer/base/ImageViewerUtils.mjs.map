{"version":3,"file":"ImageViewerUtils.mjs","sources":["../../../src/image-viewer/base/ImageViewerUtils.tsx"],"sourcesContent":["import { defineComponent, PropType } from 'vue';\nimport { ImageIcon, ZoomInIcon, ZoomOutIcon, DownloadIcon, MirrorIcon, RotationIcon } from 'tdesign-icons-vue-next';\n\nimport TImageViewerIcon from './ImageModalIcon';\nimport TToolTip from '../../tooltip';\nimport { usePrefixClass } from '../../hooks/useConfig';\nimport { downloadFile } from '../utils';\n\nimport { ImageInfo } from '../type';\n\nexport default defineComponent({\n  name: 'TImageViewerUtils',\n  props: {\n    scale: Number,\n    onRotate: Function as PropType<() => void>,\n    onZoomIn: Function as PropType<() => void>,\n    onZoomOut: Function as PropType<() => void>,\n    onMirror: Function as PropType<() => void>,\n    onReset: Function as PropType<() => void>,\n    currentImage: {\n      type: Object as PropType<ImageInfo>,\n      default() {\n        return {};\n      },\n    },\n  },\n  setup(props) {\n    const classPrefix = usePrefixClass();\n\n    return () => (\n      <div class={`${classPrefix.value}-image-viewer__utils`}>\n        <div class={`${classPrefix.value}-image-viewer__utils--content`}>\n          <TToolTip\n            overlayClassName={`${classPrefix.value}-image-viewer__utils--tip`}\n            content=\"镜像\"\n            destroyOnClose\n            placement=\"top\"\n            showArrow\n            theme=\"default\"\n          >\n            <TImageViewerIcon onClick={props.onMirror} icon={() => <MirrorIcon size=\"medium\" />} />\n          </TToolTip>\n          <TToolTip\n            overlayClassName={`${classPrefix.value}-image-viewer__utils--tip`}\n            content=\"旋转\"\n            destroyOnClose\n            placement=\"top\"\n            showArrow\n            theme=\"default\"\n          >\n            <TImageViewerIcon onClick={props.onRotate} icon={() => <RotationIcon size=\"medium\" />} />\n          </TToolTip>\n          <TImageViewerIcon icon={() => <ZoomOutIcon size=\"medium\" />} onClick={props.onZoomOut} />\n          <TImageViewerIcon\n            class={`${classPrefix.value}-image-viewer__utils--scale`}\n            size=\"medium\"\n            label={`${props.scale * 100}%`}\n          />\n          <TImageViewerIcon icon={() => <ZoomInIcon size=\"medium\" />} onClick={props.onZoomIn} />\n          <TToolTip\n            overlayClassName={`${classPrefix.value}-image-viewer__utils--tip`}\n            content=\"原始大小\"\n            destroyOnClose\n            placement=\"top\"\n            showArrow\n            theme=\"default\"\n          >\n            <div class={`${classPrefix.value}-image-viewer__modal--icon`}>\n              <TImageViewerIcon icon={() => <ImageIcon size=\"medium\" />} onClick={props.onReset} />\n            </div>\n          </TToolTip>\n          {props.currentImage.download && (\n            <TImageViewerIcon\n              icon={() => <DownloadIcon size=\"medium\" />}\n              onClick={() => {\n                downloadFile(props.currentImage.mainImage);\n              }}\n            />\n          )}\n        </div>\n      </div>\n    );\n  },\n});\n"],"names":["defineComponent","name","props","scale","Number","onRotate","Function","onZoomIn","onZoomOut","onMirror","onReset","currentImage","type","Object","setup","classPrefix","usePrefixClass","_createVNode","value","TToolTip","download","downloadFile","mainImage"],"mappings":"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"}