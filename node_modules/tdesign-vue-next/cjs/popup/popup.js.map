{"version":3,"file":"popup.js","sources":["../../src/popup/popup.tsx"],"sourcesContent":["import {\n  defineComponent,\n  Transition,\n  ref,\n  Ref,\n  computed,\n  ComputedRef,\n  watch,\n  inject,\n  provide,\n  InjectionKey,\n  onUnmounted,\n  nextTick,\n  toRefs,\n} from 'vue';\nimport { createPopper, Placement } from '@popperjs/core';\nimport { usePrefixClass, useCommonClassName } from '../hooks/useConfig';\nimport { on, off, once } from '../utils/dom';\nimport { renderTNodeJSX, renderContent } from '../utils/render-tnode';\nimport setStyle from '../_common/js/utils/set-style';\nimport props from './props';\nimport { PopupVisibleChangeContext, TdPopupProps } from './type';\nimport Container from './container';\nimport useVModel from '../hooks/useVModel';\n\nconst triggers = ['click', 'hover', 'focus', 'context-menu'] as const;\n\ntype TriggerMap = Readonly<Record<typeof triggers[number], boolean>>;\n\nconst injectionKey = Symbol('popup') as InjectionKey<{\n  preventClosing: (preventing: boolean) => void;\n  emitVisible: (visible: boolean, context: PopupVisibleChangeContext) => void;\n  contentClicked: Ref<boolean>;\n  mouseInRange: Ref<boolean>;\n  onMouseLeave: (ev: MouseEvent) => void;\n  hasTrigger: ComputedRef<TriggerMap>;\n}>;\n\nfunction getPopperPlacement(placement: TdPopupProps['placement']): Placement {\n  return placement.replace(/-(left|top)$/, '-start').replace(/-(right|bottom)$/, '-end') as Placement;\n}\n\nfunction attachListeners(elm: Ref<Element>) {\n  const offs: Array<() => void> = [];\n  return {\n    // eslint-disable-next-line no-undef\n    add<K extends keyof HTMLElementEventMap>(type: K, listener: (ev: HTMLElementEventMap[K]) => void) {\n      on(elm.value, type, listener);\n      offs.push(() => {\n        off(elm.value, type, listener);\n      });\n    },\n    clean() {\n      offs.forEach((handler) => handler?.());\n      offs.length = 0;\n    },\n  };\n}\n\nexport default defineComponent({\n  name: 'TPopup',\n\n  props: {\n    ...props,\n    expandAnimation: {\n      type: Boolean,\n    },\n  },\n  setup(props, { expose }) {\n    const { visible, modelValue } = toRefs(props);\n    const [innerVisible, setInnerVisible] = useVModel(\n      visible,\n      modelValue,\n      props.defaultVisible,\n      props.onVisibleChange,\n      'visible',\n    );\n\n    /** popperjs instance */\n    let popper: ReturnType<typeof createPopper>;\n    /** timeout id */\n    let timeoutId: ReturnType<typeof setTimeout>;\n    let hasDocumentEvent = false;\n\n    /** if a trusted action (opening or closing) is prevented, increase this flag */\n    const visibleState = ref(0);\n    const mouseInRange = ref(false);\n    /** mark popup as clicked when mousedown, reset after mouseup */\n    const contentClicked = ref(false);\n\n    const triggerEl = ref<HTMLElement>(null);\n    const overlayEl = ref<HTMLElement>(null);\n    const popperEl = ref<HTMLElement>(null);\n    const containerRef = ref<typeof Container>(null);\n\n    const parent = inject(injectionKey, undefined);\n\n    const prefixCls = usePrefixClass('popup');\n    const { STATUS: commonCls } = useCommonClassName();\n    const overlayCls: any = computed(() => [\n      `${prefixCls.value}__content`,\n      {\n        [`${prefixCls.value}__content--text`]: typeof props.content === 'string',\n        [`${prefixCls.value}__content--arrow`]: props.showArrow,\n        [commonCls.value.disabled]: props.disabled,\n      },\n      props.overlayInnerClassName,\n    ]);\n    const hasTrigger = computed<TriggerMap>(() =>\n      triggers.reduce(\n        (map, trigger) => ({\n          ...map,\n          [trigger]: props.trigger.includes(trigger),\n        }),\n        {} as TriggerMap,\n      ),\n    );\n    const delay = computed<{ open: number; close: number }>(() => {\n      const delay = [].concat(props.delay ?? [250, 150]);\n      return {\n        open: delay[0],\n        close: delay[1] ?? delay[0],\n      };\n    });\n\n    function getOverlayStyle() {\n      const { overlayStyle } = props;\n\n      if (!triggerEl.value || !overlayEl.value) return;\n      if (typeof overlayStyle === 'function') {\n        return overlayStyle(triggerEl.value, overlayEl.value);\n      }\n      if (typeof overlayStyle === 'object') {\n        return overlayStyle;\n      }\n    }\n\n    function updateOverlayInnerStyle() {\n      const { overlayInnerStyle } = props;\n\n      if (!triggerEl.value || !overlayEl.value) return;\n      if (typeof overlayInnerStyle === 'function') {\n        setStyle(overlayEl.value, overlayInnerStyle(triggerEl.value, overlayEl.value));\n      } else if (typeof overlayInnerStyle === 'object') {\n        setStyle(overlayEl.value, overlayInnerStyle);\n      }\n    }\n\n    function updatePopper() {\n      if (!popperEl.value || !innerVisible.value) return;\n      if (popper) {\n        popper.update();\n        return;\n      }\n\n      popper = createPopper(triggerEl.value, popperEl.value, {\n        placement: getPopperPlacement(props.placement as TdPopupProps['placement']),\n        onFirstUpdate: () => {\n          nextTick(updatePopper);\n        },\n      });\n    }\n\n    function destroyPopper() {\n      if (popper) {\n        popper?.destroy();\n        popper = null;\n      }\n      if (props.destroyOnClose) {\n        containerRef.value?.unmountContent();\n      }\n    }\n\n    function emitVisible(visible: boolean, context: PopupVisibleChangeContext) {\n      if (props.disabled || visible === innerVisible.value) return;\n      if (!visible && visibleState.value > 1) return;\n      if (visible && mouseInRange.value) return;\n      setInnerVisible(visible, context);\n    }\n\n    function preventClosing(preventing: boolean) {\n      parent?.preventClosing(preventing);\n      if (preventing) {\n        visibleState.value += 1;\n      } else if (visibleState.value) {\n        visibleState.value -= 1;\n        if (!visibleState.value) {\n          emitVisible(false, {});\n          if (parent?.hasTrigger.value.hover && !parent?.mouseInRange) {\n            parent.emitVisible(false, {});\n          }\n        }\n      }\n    }\n\n    function handleToggle(context: PopupVisibleChangeContext) {\n      emitVisible(!innerVisible.value, context);\n    }\n\n    function handleOpen(context: Pick<PopupVisibleChangeContext, 'trigger'>) {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(\n        () => {\n          emitVisible(true, context);\n        },\n        hasTrigger.value.click ? 0 : delay.value.open,\n      );\n    }\n\n    function handleClose(context: Pick<PopupVisibleChangeContext, 'trigger'>) {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(\n        () => {\n          emitVisible(false, context);\n        },\n        hasTrigger.value.click ? 0 : delay.value.close,\n      );\n    }\n\n    function handleDocumentClick(ev?: MouseEvent) {\n      if (contentClicked.value) {\n        // clear the flag after mousedown\n        setTimeout(() => {\n          contentClicked.value = false;\n        });\n        return;\n      }\n      // ignore document event when clicking trigger element\n      if (triggerEl.value.contains(ev.target as Node)) return;\n      visibleState.value = 0;\n      emitVisible(false, { trigger: 'document' });\n    }\n\n    function onMouseEnter() {\n      mouseInRange.value = true;\n      handleOpen({});\n    }\n\n    function onMouseLeave(ev: MouseEvent) {\n      // 子元素存在打开的 popup 时，ui 可能重叠，而 dom 节点多是并列关系\n      // 需要做碰撞检测去阻止父级 popup 关闭\n      if (visibleState.value > 1) {\n        const rect = popperEl.value.getBoundingClientRect();\n        if (ev.x > rect.x && ev.x < rect.x + rect.width && ev.y > rect.y && ev.y < rect.y + rect.height) return;\n      }\n      mouseInRange.value = false;\n      handleClose({});\n\n      // parent can no longer monitor mouse leave\n      if (parent?.mouseInRange) {\n        parent.onMouseLeave(ev);\n      }\n    }\n\n    const trigger = attachListeners(triggerEl);\n\n    watch(\n      () => [props.trigger, triggerEl.value],\n      () => {\n        if (!triggerEl.value) return;\n        trigger.clean();\n        if (hasTrigger.value.hover) {\n          trigger.add('mouseenter', () => handleOpen({ trigger: 'trigger-element-hover' }));\n          trigger.add('mouseleave', () => handleClose({ trigger: 'trigger-element-hover' }));\n        } else if (hasTrigger.value.focus) {\n          trigger.add('focusin', () => handleOpen({ trigger: 'trigger-element-focus' }));\n          trigger.add('focusout', () => handleClose({ trigger: 'trigger-element-blur' }));\n        } else if (hasTrigger.value.click) {\n          trigger.add('click', (e) => {\n            handleToggle({ e, trigger: 'trigger-element-click' });\n          });\n        } else if (hasTrigger.value['context-menu']) {\n          trigger.add('contextmenu', (e) => {\n            e.preventDefault();\n            // MouseEvent.button\n            // 2: Secondary button pressed, usually the right button\n            e.button === 2 && handleToggle({ trigger: 'context-menu' });\n          });\n        }\n      },\n    );\n\n    watch(\n      () => [props.overlayStyle, props.overlayInnerStyle, overlayEl.value],\n      () => {\n        updateOverlayInnerStyle();\n        updatePopper();\n      },\n    );\n    const updateScrollTop: Function = inject('updateScrollTop', () => {});\n    watch(\n      () => [innerVisible.value, overlayEl.value],\n      () => {\n        if (innerVisible.value && overlayEl.value && updateScrollTop) {\n          updateScrollTop?.(overlayEl.value);\n        }\n      },\n    );\n\n    watch(\n      () => props.placement,\n      () => {\n        destroyPopper();\n        updatePopper();\n      },\n    );\n\n    watch(contentClicked, (clicked) => {\n      // sync lock state recursively\n      if (parent) {\n        parent.contentClicked.value = clicked;\n      }\n    });\n\n    watch(\n      () => innerVisible.value,\n      (visible) => {\n        if (visible) {\n          preventClosing(true);\n          if (!hasDocumentEvent) {\n            on(document, 'click', handleDocumentClick, true);\n            hasDocumentEvent = true;\n          }\n          // focus trigger esc 隐藏浮层\n          if (triggerEl.value && hasTrigger.value.focus) {\n            once(triggerEl.value, 'keydown', (ev: KeyboardEvent) => {\n              if (ev.code === 'Escape') {\n                handleClose({ trigger: 'keydown-esc' });\n              }\n            });\n          }\n        } else {\n          preventClosing(false);\n          // destruction is delayed until after animation ends\n          off(document, 'click', handleDocumentClick, true);\n          hasDocumentEvent = false;\n          mouseInRange.value = false;\n        }\n      },\n    );\n\n    onUnmounted(() => {\n      if (innerVisible.value) {\n        parent?.preventClosing(false);\n      }\n      destroyPopper();\n      off(document, 'click', handleDocumentClick, true);\n      clearTimeout(timeoutId);\n    });\n\n    provide(injectionKey, {\n      preventClosing,\n      emitVisible,\n      contentClicked,\n      mouseInRange,\n      onMouseLeave,\n      hasTrigger,\n    });\n\n    expose({\n      handleClose,\n      updatePopper,\n      getOverlay: () => {\n        return overlayEl.value;\n      },\n    });\n\n    return {\n      innerVisible,\n      triggerEl,\n      overlayEl,\n      popperEl,\n      prefixCls,\n      overlayCls,\n      hasTrigger,\n      contentClicked,\n      updatePopper,\n      destroyPopper,\n      getOverlayStyle,\n      updateOverlayInnerStyle,\n      emitVisible,\n      onMouseEnter,\n      onMouseLeave,\n    };\n  },\n  render() {\n    const { prefixCls, innerVisible, destroyOnClose, hasTrigger, getOverlayStyle, onScroll } = this;\n    const content = renderTNodeJSX(this, 'content');\n    const hidePopup = this.hideEmptyPopup && ['', undefined, null].includes(content);\n\n    const overlay =\n      innerVisible || !destroyOnClose ? (\n        <div\n          class={[prefixCls, this.overlayClassName]}\n          ref=\"popperEl\"\n          style={[\n            hidePopup && { visibility: 'hidden', pointerEvents: 'none' },\n            { zIndex: this.zIndex },\n            getOverlayStyle(),\n          ]}\n          vShow={innerVisible}\n          onMousedown={() => {\n            this.contentClicked = true;\n          }}\n          {...(hasTrigger.hover && {\n            onMouseenter: this.onMouseEnter,\n            onMouseleave: this.onMouseLeave,\n          })}\n        >\n          <div\n            class={this.overlayCls}\n            ref=\"overlayEl\"\n            {...(onScroll && {\n              onScroll(e: WheelEvent) {\n                onScroll({ e });\n              },\n            })}\n          >\n            {content}\n            {this.showArrow && <div class={`${prefixCls}__arrow`} />}\n          </div>\n        </div>\n      ) : null;\n\n    return (\n      <Container\n        ref=\"containerRef\"\n        forwardRef={(ref) => (this.triggerEl = ref)}\n        onContentMounted={() => {\n          if (innerVisible) {\n            this.updatePopper();\n            this.updateOverlayInnerStyle();\n          }\n        }}\n        onResize={() => {\n          if (innerVisible) {\n            this.updatePopper();\n          }\n        }}\n        visible={innerVisible}\n        attach={this.attach}\n      >\n        {{\n          content: () => (\n            <Transition\n              name={this.expandAnimation ? `${prefixCls}--animation-expand` : `${prefixCls}--animation`}\n              appear\n              onEnter={this.updatePopper}\n              onAfterLeave={this.destroyPopper}\n            >\n              {overlay}\n            </Transition>\n          ),\n          default: () => renderContent(this, 'default', 'triggerElement'),\n        }}\n      </Container>\n    );\n  },\n});\n"],"names":["triggers","injectionKey","Symbol","getPopperPlacement","placement","replace","attachListeners","elm","offs","add","type","listener","on","value","push","off","clean","forEach","handler","length","defineComponent","name","props","expandAnimation","Boolean","setup","expose","toRefs","visible","modelValue","useVModel","defaultVisible","onVisibleChange","_slicedToArray","innerVisible","setInnerVisible","popper","timeoutId","hasDocumentEvent","visibleState","ref","mouseInRange","contentClicked","triggerEl","overlayEl","popperEl","containerRef","parent","inject","prefixCls","usePrefixClass","useCommonClassName","commonCls","STATUS","overlayCls","computed","_defineProperty","content","showArrow","disabled","overlayInnerClassName","hasTrigger","reduce","map","trigger","includes","delay","concat","open","close","getOverlayStyle","overlayStyle","_typeof","updateOverlayInnerStyle","overlayInnerStyle","setStyle","updatePopper","update","createPopper","onFirstUpdate","nextTick","destroyPopper","destroy","destroyOnClose","unmountContent","emitVisible","context","preventClosing","preventing","hover","handleToggle","handleOpen","clearTimeout","setTimeout","click","handleClose","handleDocumentClick","ev","contains","target","onMouseEnter","onMouseLeave","rect","getBoundingClientRect","x","width","y","height","watch","focus","e","preventDefault","button","updateScrollTop","clicked","document","once","code","onUnmounted","provide","getOverlay","render","onScroll","renderTNodeJSX","hidePopup","hideEmptyPopup","overlay","_withDirectives","_createVNode","_mergeProps","overlayClassName","visibility","pointerEvents","zIndex","onMouseenter","onMouseleave","_vShow","Container","attach","Transition","renderContent"],"mappings":"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"}