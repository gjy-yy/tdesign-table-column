{"version":3,"file":"dialog.js","sources":["../../src/dialog/dialog.tsx"],"sourcesContent":["import {\n  computed,\n  defineComponent,\n  nextTick,\n  onBeforeUnmount,\n  onMounted,\n  ref,\n  Transition,\n  watch,\n  getCurrentInstance,\n} from 'vue';\nimport {\n  CloseIcon as TdCloseIcon,\n  InfoCircleFilledIcon as TdInfoCircleFilledIcon,\n  CheckCircleFilledIcon as TdCheckCircleFilledIcon,\n  ErrorCircleFilledIcon as TdErrorCircleFilledIcon,\n} from 'tdesign-icons-vue-next';\n\nimport { DialogCloseContext, TdDialogProps } from './type';\nimport props from './props';\nimport TransferDom from '../utils/transfer-dom';\nimport { addClass, removeClass } from '../utils/dom';\nimport { useGlobalIcon } from '../hooks/useGlobalIcon';\nimport { useConfig, usePrefixClass } from '../hooks/useConfig';\nimport { useAction } from './hooks';\nimport { useTNodeJSX, useContent } from '../hooks/tnode';\nimport useDestroyOnClose from '../hooks/useDestroyOnClose';\nimport { stack } from './stack';\n\nfunction GetCSSValue(v: string | number) {\n  return Number.isNaN(Number(v)) ? v : `${Number(v)}px`;\n}\n\nlet mousePosition: { x: number; y: number } | null;\nconst getClickPosition = (e: MouseEvent) => {\n  mousePosition = {\n    x: e.clientX,\n    y: e.clientY,\n  };\n  setTimeout(() => {\n    mousePosition = null;\n  }, 100);\n};\n\nif (typeof window !== 'undefined' && window.document && window.document.documentElement) {\n  document.documentElement.addEventListener('click', getClickPosition, true);\n}\n\nfunction InitDragEvent(dragBox: HTMLElement) {\n  const target = dragBox;\n  const windowInnerWidth = window.innerWidth || document.documentElement.clientWidth;\n  const windowInnerHeight = window.innerHeight || document.documentElement.clientHeight;\n  target.addEventListener('mousedown', (targetEvent: MouseEvent) => {\n    // 算出鼠标相对元素的位置\n    const disX = targetEvent.clientX - target.offsetLeft;\n    const disY = targetEvent.clientY - target.offsetTop;\n    const dialogW = target.offsetWidth;\n    const dialogH = target.offsetHeight;\n    // 如果弹出框超出屏幕范围 不能进行拖拽\n    if (dialogW > windowInnerWidth || dialogH > windowInnerHeight) return;\n    function mouseMoverHandler(documentEvent: MouseEvent) {\n      // 用鼠标的位置减去鼠标相对元素的位置，得到元素的位置\n      let left = documentEvent.clientX - disX;\n      let top = documentEvent.clientY - disY;\n      // 临界判断\n      // 拖拽上左边界限制\n      if (left < 0) left = 0;\n      if (top < 0) top = 0;\n      if (windowInnerWidth - target.offsetWidth - left < 0) left = windowInnerWidth - target.offsetWidth;\n      if (windowInnerHeight - target.offsetHeight - top < 0) top = windowInnerHeight - target.offsetHeight;\n      target.style.position = 'absolute';\n      target.style.left = `${left}px`;\n      target.style.top = `${top}px`;\n    }\n    function mouseUpHandler() {\n      // 鼠标弹起来的时候不再移动\n      document.removeEventListener('mousemove', mouseMoverHandler);\n      // 预防鼠标弹起来后还会循环（即预防鼠标放上去的时候还会移动）\n      document.removeEventListener('mouseup', mouseUpHandler);\n    }\n    // 元素按下时注册document鼠标监听事件\n    document.addEventListener('mousemove', mouseMoverHandler);\n    // 鼠标弹起来移除document鼠标监听事件\n    document.addEventListener('mouseup', mouseUpHandler);\n    // 拖拽结束移除鼠标监听事件，解决文字拖拽结束事件未解绑问题\n    document.addEventListener('dragend', mouseUpHandler);\n  });\n}\nexport default defineComponent({\n  name: 'TDialog',\n\n  // 注册v-draggable指令,传入true时候初始化拖拽事件\n  directives: {\n    TransferDom,\n    draggable(el, binding) {\n      // el 指令绑定的元素\n      if (el && binding && binding.value) {\n        InitDragEvent(el);\n      }\n    },\n  },\n\n  props,\n\n  emits: ['update:visible'],\n  setup(props: TdDialogProps, context) {\n    const COMPONENT_NAME = usePrefixClass('dialog');\n    const LOCK_CLASS = usePrefixClass('dialog--lock');\n    const classPrefix = usePrefixClass();\n    const renderContent = useContent();\n    const renderTNodeJSX = useTNodeJSX();\n    const dialogEle = ref<HTMLElement | null>(null);\n    const dialogPosition = ref<HTMLElement | null>(null);\n    const { globalConfig } = useConfig('dialog');\n    const { CloseIcon, InfoCircleFilledIcon, CheckCircleFilledIcon, ErrorCircleFilledIcon } = useGlobalIcon({\n      CloseIcon: TdCloseIcon,\n      InfoCircleFilledIcon: TdInfoCircleFilledIcon,\n      CheckCircleFilledIcon: TdCheckCircleFilledIcon,\n      ErrorCircleFilledIcon: TdErrorCircleFilledIcon,\n    });\n    const confirmBtnAction = (e: MouseEvent) => {\n      props.onConfirm?.({ e });\n    };\n    const cancelBtnAction = (e: MouseEvent) => {\n      props.onCancel?.({ e });\n      emitCloseEvent({ e, trigger: 'cancel' });\n    };\n    const { getConfirmBtn, getCancelBtn } = useAction({ confirmBtnAction, cancelBtnAction });\n\n    useDestroyOnClose();\n    const scrollWidth = ref(0);\n    // 是否模态形式的对话框\n    const isModal = computed(() => props.mode === 'modal');\n    // 是否非模态对话框\n    const isModeLess = computed(() => props.mode === 'modeless');\n    // 是否普通对话框，没有脱离文档流的对话框\n    const isNormal = computed(() => props.mode === 'normal');\n    const maskClass = computed(() => [\n      `${COMPONENT_NAME.value}__mask`,\n      !props.showOverlay && `${classPrefix.value}-is-hidden`,\n    ]);\n    const positionClass = computed(() => {\n      if (isNormal.value) return [];\n      return [\n        `${COMPONENT_NAME.value}__position`,\n        !!props.top && `${COMPONENT_NAME.value}--top`,\n        `${props.placement && !props.top ? `${COMPONENT_NAME.value}--${props.placement}` : ''}`,\n      ];\n    });\n    const wrapClass = computed(() => [!isNormal.value && `${COMPONENT_NAME.value}__wrap`]);\n    const positionStyle = computed(() => {\n      // 此处获取定位方式 top 优先级较高 存在时 默认使用top定位\n      const { top } = props;\n      let topStyle = {};\n      if (top !== undefined) {\n        const topValue = GetCSSValue(top);\n        topStyle = { paddingTop: topValue };\n      }\n      return topStyle;\n    });\n    const dialogClass = computed(() => {\n      const dialogClass = [\n        `${COMPONENT_NAME.value}`,\n        `${COMPONENT_NAME.value}--default`,\n        `${COMPONENT_NAME.value}--${props.placement}`,\n        `${COMPONENT_NAME.value}__modal-${props.theme}`,\n        isModeLess.value && props.draggable && `${COMPONENT_NAME.value}--draggable`,\n      ];\n      return dialogClass;\n    });\n    const dialogStyle = computed(() => {\n      return { width: GetCSSValue(props.width) };\n    });\n\n    watch(\n      () => props.visible,\n      (value) => {\n        if (value) {\n          if (isModal.value && !props.showInAttachedElement) {\n            if (scrollWidth.value > 0 && props.preventScrollThrough) {\n              const bodyCssText = `position: relative;width: calc(100% - ${scrollWidth.value}px);`;\n              document.body.style.cssText = bodyCssText;\n            }\n            !isModeLess.value && props.preventScrollThrough && addClass(document.body, LOCK_CLASS.value);\n            nextTick(() => {\n              if (mousePosition && dialogEle.value) {\n                dialogEle.value.style.transformOrigin = `${mousePosition.x - dialogEle.value.offsetLeft}px ${\n                  mousePosition.y - dialogEle.value.offsetTop\n                }px`;\n              }\n              // 清除鼠标焦点 避免entry事件多次触发（按钮弹出弹窗 不移除焦点 立即按Entry按键 会造成弹窗关闭再弹出）\n              (document.activeElement as HTMLElement).blur();\n            });\n          }\n        } else {\n          document.body.style.cssText = '';\n          removeClass(document.body, LOCK_CLASS.value);\n        }\n        storeUid(value);\n        addKeyboardEvent(value);\n      },\n    );\n\n    const instance = getCurrentInstance();\n    const storeUid = (flag: boolean) => {\n      if (flag) {\n        stack.push(instance.uid);\n      } else {\n        stack.pop();\n      }\n    };\n\n    const addKeyboardEvent = (status: boolean) => {\n      if (status) {\n        document.addEventListener('keydown', keyboardEvent);\n        props.confirmOnEnter && document.addEventListener('keydown', keyboardEnterEvent);\n      } else {\n        document.removeEventListener('keydown', keyboardEvent);\n        props.confirmOnEnter && document.removeEventListener('keydown', keyboardEnterEvent);\n      }\n    };\n    // 回车出发确认事件\n    const keyboardEnterEvent = (e: KeyboardEvent) => {\n      const { code } = e;\n      if ((code === 'Enter' || code === 'NumpadEnter') && stack.top === instance.uid) {\n        props.onConfirm?.({ e });\n      }\n    };\n    const keyboardEvent = (e: KeyboardEvent) => {\n      if (e.code === 'Escape' && stack.top === instance.uid) {\n        props.onEscKeydown?.({ e });\n        // 根据closeOnEscKeydown判断按下ESC时是否触发close事件\n        if (props.closeOnEscKeydown ?? globalConfig.value.closeOnEscKeydown) {\n          emitCloseEvent({ e, trigger: 'esc' });\n        }\n      }\n    };\n    const overlayAction = (e: MouseEvent) => {\n      if (props.showOverlay && (props.closeOnOverlayClick ?? globalConfig.value.closeOnOverlayClick)) {\n        if (e.target === dialogPosition.value) {\n          props.onOverlayClick?.({ e });\n          emitCloseEvent({ e, trigger: 'overlay' });\n        }\n      }\n    };\n    const closeBtnAction = (e: MouseEvent) => {\n      props.onCloseBtnClick?.({ e });\n      emitCloseEvent({\n        trigger: 'close-btn',\n        e,\n      });\n    };\n\n    // 打开弹窗动画结束时事件\n    const afterEnter = () => {\n      props.onOpened?.();\n    };\n    // 关闭弹窗动画结束时事件\n    const afterLeave = () => {\n      if (isModeLess.value && props.draggable) {\n        // 关闭弹窗 清空拖拽设置的相关css\n        dialogEle.value.style.position = 'relative';\n        dialogEle.value.style.left = 'unset';\n        dialogEle.value.style.top = 'unset';\n      }\n      props.onClosed?.();\n    };\n\n    const emitCloseEvent = (ctx: DialogCloseContext) => {\n      props.onClose?.(ctx);\n      // 默认关闭弹窗\n      context.emit('update:visible', false);\n    };\n\n    // Vue在引入阶段对事件的处理还做了哪些初始化操作。Vue在实例上用一个_events属性存贮管理事件的派发和更新，\n    // 暴露出$on, $once, $off, $emit方法给外部管理事件和派发执行事件\n    // 所以通过判断_events某个事件下监听函数数组是否超过一个，可以判断出组件是否监听了当前事件\n    const hasEventOn = (name: string) => {\n      // _events 因没有被暴露在vue实例接口中，只能把这个规则注释掉\n      // eslint-disable-next-line dot-notation\n      const eventFuncs = this['_events']?.[name];\n      return !!eventFuncs?.length;\n    };\n    const getIcon = () => {\n      const icon = {\n        info: <InfoCircleFilledIcon class={`${classPrefix.value}-is-info`} />,\n        warning: <ErrorCircleFilledIcon class={`${classPrefix.value}-is-warning`} />,\n        danger: <ErrorCircleFilledIcon class={`${classPrefix.value}-is-error`} />,\n        success: <CheckCircleFilledIcon class={`${classPrefix.value}-is-success`} />,\n      };\n      return icon[props.theme];\n    };\n    const renderDialog = () => {\n      // header 值为 true 显示空白头部\n      const defaultHeader = <h5 class=\"title\"></h5>;\n      const defaultCloseBtn = <CloseIcon />;\n      const body = renderContent('default', 'body');\n      const defaultFooter = (\n        <div>\n          {getCancelBtn({\n            cancelBtn: props.cancelBtn,\n            globalCancel: globalConfig.value.cancel,\n            className: `${COMPONENT_NAME.value}__cancel`,\n          })}\n          {getConfirmBtn({\n            theme: props.theme,\n            confirmBtn: props.confirmBtn,\n            globalConfirm: globalConfig.value.confirm,\n            globalConfirmBtnTheme: globalConfig.value.confirmBtnTheme,\n            className: `${COMPONENT_NAME.value}__confirm`,\n          })}\n        </div>\n      );\n      const bodyClassName =\n        props.theme === 'default' ? `${COMPONENT_NAME.value}__body` : `${COMPONENT_NAME.value}__body__icon`;\n      const footerContent = renderTNodeJSX('footer', defaultFooter);\n      const onStopDown = (e: MouseEvent) => {\n        if (isModeLess.value && props.draggable) e.stopPropagation();\n      };\n      return (\n        // /* 非模态形态下draggable为true才允许拖拽 */\n        <div class={wrapClass.value}>\n          <div class={positionClass.value} style={positionStyle.value} onClick={overlayAction} ref={dialogPosition}>\n            <div\n              key=\"dialog\"\n              class={dialogClass.value}\n              style={dialogStyle.value}\n              v-draggable={isModeLess.value && props.draggable}\n              ref={dialogEle}\n            >\n              <div class={`${COMPONENT_NAME.value}__header`} onmousedown={onStopDown}>\n                {getIcon()}\n                {renderTNodeJSX('header', defaultHeader)}\n              </div>\n              {props.closeBtn ? (\n                <span class={`${COMPONENT_NAME.value}__close`} onClick={closeBtnAction}>\n                  {renderTNodeJSX('closeBtn', defaultCloseBtn)}\n                </span>\n              ) : null}\n              <div class={bodyClassName} onmousedown={onStopDown}>\n                {body}\n              </div>\n              {footerContent && (\n                <div class={`${COMPONENT_NAME.value}__footer`} onmousedown={onStopDown}>\n                  {footerContent}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      );\n    };\n\n    onMounted(() => {\n      scrollWidth.value = window.innerWidth - document.body.offsetWidth;\n    });\n    onBeforeUnmount(() => {\n      addKeyboardEvent(false);\n    });\n\n    return {\n      COMPONENT_NAME,\n      scrollWidth,\n      isModal,\n      isModeLess,\n      maskClass,\n      dialogClass,\n      dialogStyle,\n      dialogEle,\n      afterEnter,\n      afterLeave,\n      hasEventOn,\n      renderDialog,\n    };\n  },\n  render() {\n    const { COMPONENT_NAME } = this;\n    const maskView = this.isModal && <div key=\"mask\" class={this.maskClass}></div>;\n    const dialogView = this.renderDialog();\n    const view = [maskView, dialogView];\n    const ctxStyle = { zIndex: this.zIndex };\n    // dialog__ctx--fixed 绝对定位\n    // dialog__ctx--absolute 挂载在attach元素上 相对定位\n    // __ctx--modeless modeless 点击穿透\n    const ctxClass = [\n      `${COMPONENT_NAME}__ctx`,\n      {\n        [`${COMPONENT_NAME}__ctx--fixed`]: this.mode === 'modal',\n        [`${COMPONENT_NAME}__ctx--absolute`]: this.isModal && this.showInAttachedElement,\n        [`${COMPONENT_NAME}__ctx--modeless`]: this.isModeLess,\n      },\n    ];\n    return (\n      <Transition\n        duration={300}\n        name={`${COMPONENT_NAME}-zoom__vue`}\n        onAfterEnter={this.afterEnter}\n        onAfterLeave={this.afterLeave}\n      >\n        {(!this.destroyOnClose || this.visible) && (\n          <div v-show={this.visible} class={ctxClass} style={ctxStyle} v-transfer-dom={this.attach}>\n            {view}\n          </div>\n        )}\n      </Transition>\n    );\n  },\n});\n"],"names":["GetCSSValue","v","Number","isNaN","mousePosition","getClickPosition","e","x","clientX","y","clientY","setTimeout","window","document","documentElement","addEventListener","InitDragEvent","dragBox","target","windowInnerWidth","innerWidth","clientWidth","windowInnerHeight","innerHeight","clientHeight","targetEvent","disX","offsetLeft","disY","offsetTop","dialogW","offsetWidth","dialogH","offsetHeight","mouseMoverHandler","documentEvent","left","top","style","position","mouseUpHandler","removeEventListener","defineComponent","name","directives","TransferDom","draggable","el","binding","value","props","emits","setup","context","COMPONENT_NAME","usePrefixClass","LOCK_CLASS","classPrefix","renderContent","useContent","renderTNodeJSX","useTNodeJSX","dialogEle","ref","dialogPosition","useConfig","globalConfig","useGlobalIcon","CloseIcon","TdCloseIcon","InfoCircleFilledIcon","TdInfoCircleFilledIcon","CheckCircleFilledIcon","TdCheckCircleFilledIcon","ErrorCircleFilledIcon","TdErrorCircleFilledIcon","confirmBtnAction","onConfirm","cancelBtnAction","onCancel","emitCloseEvent","trigger","useAction","getConfirmBtn","getCancelBtn","useDestroyOnClose","scrollWidth","isModal","computed","mode","isModeLess","isNormal","maskClass","showOverlay","positionClass","placement","wrapClass","positionStyle","topStyle","topValue","paddingTop","dialogClass","theme","dialogStyle","width","watch","visible","showInAttachedElement","preventScrollThrough","bodyCssText","body","cssText","addClass","nextTick","transformOrigin","activeElement","blur","removeClass","storeUid","addKeyboardEvent","instance","getCurrentInstance","flag","stack","push","uid","pop","status","keyboardEvent","confirmOnEnter","keyboardEnterEvent","code","onEscKeydown","closeOnEscKeydown","overlayAction","closeOnOverlayClick","onOverlayClick","closeBtnAction","onCloseBtnClick","afterEnter","onOpened","afterLeave","onClosed","ctx","onClose","emit","hasEventOn","eventFuncs","length","getIcon","icon","info","warning","danger","success","renderDialog","defaultHeader","_createVNode","defaultCloseBtn","defaultFooter","cancelBtn","globalCancel","cancel","className","confirmBtn","globalConfirm","confirm","globalConfirmBtnTheme","confirmBtnTheme","bodyClassName","footerContent","onStopDown","stopPropagation","_withDirectives","closeBtn","onMounted","onBeforeUnmount","render","maskView","dialogView","view","ctxStyle","zIndex","ctxClass","_defineProperty","Transition","destroyOnClose","_resolveDirective","attach"],"mappings":"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"}