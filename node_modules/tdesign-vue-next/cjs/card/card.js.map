{"version":3,"file":"card.js","sources":["../../src/card/card.tsx"],"sourcesContent":["import { defineComponent, computed, ref } from 'vue';\n\nimport { usePrefixClass, useCommonClassName } from '../hooks/useConfig';\nimport { useTNodeJSX } from '../hooks/tnode';\nimport TLoading from '../loading';\nimport props from './props';\n\nexport default defineComponent({\n  name: 'TCard',\n  props,\n  setup(props, { slots }) {\n    const renderTNodeJSX = useTNodeJSX();\n    const COMPONENT_NAME = usePrefixClass('card');\n    const { SIZE } = useCommonClassName();\n\n    const baseCls = computed(() => {\n      const defaultClass = [COMPONENT_NAME.value];\n\n      if (props.size === 'small') defaultClass.push(`${SIZE.value[props.size]}`);\n      if (props.bordered) defaultClass.push(`${COMPONENT_NAME.value}--bordered`);\n      if (props.shadow) defaultClass.push(`${COMPONENT_NAME.value}--shadow`);\n      if (props.hoverShadow) defaultClass.push(`${COMPONENT_NAME.value}--shadow-hover`);\n\n      return defaultClass;\n    });\n\n    const headerCls = computed(() => {\n      const defaultClass = [`${COMPONENT_NAME.value}__header`];\n      return props.headerBordered\n        ? defaultClass.concat(`${COMPONENT_NAME.value}__title--bordered`)\n        : [`${COMPONENT_NAME.value}__header`];\n    });\n\n    const headerWrapperCls = usePrefixClass('card__header-wrapper');\n    const headerAvatarCls = usePrefixClass('card__avatar');\n    const headerTitleCls = usePrefixClass('card__title');\n    const headerSubTitleCls = usePrefixClass('card__subtitle');\n    const headerDescriptionCls = usePrefixClass('card__description');\n    const actionsCls = usePrefixClass('card__actions');\n\n    const bodyCls = usePrefixClass('card__body');\n    const coverCls = usePrefixClass('card__cover');\n    const footerCls = usePrefixClass('card__footer');\n    const footerWrapperCls = usePrefixClass('card__footer-wrapper');\n\n    // 卡片风格：普通风格、海报风格1（操作区域在顶部）、海报风格2（操作区域在底部）。\n    // 可选项：normal/poster1/poster2\n    const isPoster2 = computed(() => props.theme === 'poster2');\n\n    const showTitle = computed(() => props.title || slots.title);\n    const showHeader = computed(() => props.header || slots.header);\n    const showSubtitle = computed(() => props.subtitle || slots.subtitle);\n    const showAvatar = computed(() => props.avatar || slots.avatar);\n    const showDescription = computed(() => props.description || slots.description);\n    const showStatus = computed(() => props.status || slots.status);\n    const showActions = computed(() => props.actions || slots.actions);\n    const showFooter = computed(() => props.footer || slots.footer);\n    const showCover = computed(() => props.cover || slots.cover);\n    const showLoading = computed(() => props.loading || slots.loading);\n    const showContent = computed(() => props.content || slots.content || props.default || slots.default);\n\n    // 是否展示头部区域\n    const isHeaderRender = computed(\n      () =>\n        showHeader.value ||\n        showTitle.value ||\n        showSubtitle.value ||\n        showDescription.value ||\n        showAvatar.value ||\n        (showStatus.value && isPoster2.value) ||\n        (showActions.value && !isPoster2.value),\n    );\n\n    // 是否展示底部区域\n    const isFooterRender = computed(() => showFooter.value || (showActions.value && isPoster2.value));\n\n    // 头部区域渲染逻辑\n    const renderHeader = () => {\n      if (showHeader.value) return <div class={headerCls.value}>{renderTNodeJSX('header')}</div>;\n      return (\n        <div class={headerCls.value}>\n          <div class={headerWrapperCls.value}>\n            {showAvatar.value && <div class={headerAvatarCls.value}>{renderTNodeJSX('avatar')}</div>}\n            <div>\n              {showTitle.value && <span class={headerTitleCls.value}>{renderTNodeJSX('title')}</span>}\n              {showSubtitle.value && <span class={headerSubTitleCls.value}>{renderTNodeJSX('subtitle')}</span>}\n              {showDescription.value && <p class={headerDescriptionCls.value}>{renderTNodeJSX('description')}</p>}\n            </div>\n          </div>\n          {showActions.value && !isPoster2.value && <div class={actionsCls.value}>{renderTNodeJSX('actions')}</div>}\n          {showStatus.value && <div class={actionsCls.value}>{renderTNodeJSX('status')}</div>}\n        </div>\n      );\n    };\n\n    // 封面区域渲染逻辑\n    const renderCover = () => {\n      const textCover = typeof props.cover === 'string';\n      return <div class={coverCls.value}>{textCover ? <img src={props.cover}></img> : renderTNodeJSX('cover')}</div>;\n    };\n\n    return () => {\n      const content = (\n        <div class={baseCls.value}>\n          {isHeaderRender.value ? renderHeader() : null}\n          {showCover.value ? renderCover() : null}\n          {showContent.value && (\n            <div class={bodyCls.value}>{renderTNodeJSX('default') || renderTNodeJSX('content')}</div>\n          )}\n          {isFooterRender.value && (\n            <div class={footerCls.value}>\n              <div class={footerWrapperCls.value}>{renderTNodeJSX('footer')}</div>\n              {showActions.value && isPoster2.value && <div class={actionsCls.value}>{renderTNodeJSX('actions')}</div>}\n            </div>\n          )}\n        </div>\n      );\n\n      if (showLoading.value) {\n        return renderTNodeJSX('loading') || <TLoading>{content}</TLoading>;\n      }\n      return content;\n    };\n  },\n});\n"],"names":["defineComponent","name","props","setup","slots","renderTNodeJSX","useTNodeJSX","COMPONENT_NAME","usePrefixClass","useCommonClassName","SIZE","baseCls","computed","defaultClass","value","size","push","bordered","shadow","hoverShadow","headerCls","headerBordered","concat","headerWrapperCls","headerAvatarCls","headerTitleCls","headerSubTitleCls","headerDescriptionCls","actionsCls","bodyCls","coverCls","footerCls","footerWrapperCls","isPoster2","theme","showTitle","title","showHeader","header","showSubtitle","subtitle","showAvatar","avatar","showDescription","description","showStatus","status","showActions","actions","showFooter","footer","showCover","cover","showLoading","loading","showContent","content","isHeaderRender","isFooterRender","renderHeader","_createVNode","renderCover","textCover"],"mappings":"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"}