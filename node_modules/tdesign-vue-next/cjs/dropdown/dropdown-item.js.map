{"version":3,"file":"dropdown-item.js","sources":["../../src/dropdown/dropdown-item.tsx"],"sourcesContent":["import { defineComponent, ref, inject } from 'vue';\nimport { ChevronRightIcon as TdChevronRightIcon } from 'tdesign-icons-vue-next';\n\nimport TDivider from '../divider';\nimport itemProps from './dropdown-item-props';\nimport useRipple from '../hooks/useRipple';\nimport { useCommonClassName, usePrefixClass } from '../hooks/useConfig';\nimport { useGlobalIcon } from '../hooks/useGlobalIcon';\nimport { useContent } from '../hooks/tnode';\nimport { injectKey } from './const';\n\nexport default defineComponent({\n  name: 'TDropdownItem',\n  props: {\n    ...itemProps,\n    path: {\n      type: String,\n      default: '',\n    },\n    hasChildren: {\n      type: Boolean,\n      default: false,\n    },\n    onHover: {\n      type: Function,\n    },\n  },\n  setup(props) {\n    const renderContent = useContent();\n    const itemRef = ref<HTMLElement>();\n    useRipple(itemRef);\n\n    const { STATUS } = useCommonClassName();\n    const COMPONENT_NAME = usePrefixClass('dropdown__item');\n    const classPrefix = usePrefixClass();\n    const { ChevronRightIcon } = useGlobalIcon({ ChevronRightIcon: TdChevronRightIcon });\n\n    const dropdownProvider = inject(injectKey);\n    const { handleMenuClick } = dropdownProvider;\n\n    const renderSuffix = () => {\n      return props.hasChildren ? <ChevronRightIcon class={`${COMPONENT_NAME.value}__item-icon`} /> : null;\n    };\n\n    const handleItemClick = (e: MouseEvent): void => {\n      e.stopPropagation();\n      if (!props.hasChildren && !props.disabled) {\n        const data = {\n          value: props.value,\n          path: props.path || `/${props.value}`,\n          content: props.content,\n        };\n        props.onClick?.(data, { e });\n        handleMenuClick(data, { e });\n      }\n    };\n\n    const handleMouseover = (): void => {\n      props.onHover?.(props.path);\n    };\n\n    return () => {\n      const classes = [\n        COMPONENT_NAME.value,\n        {\n          [`${classPrefix.value}-dropdown--suffix`]: props.hasChildren,\n          [STATUS.value.disabled]: props.disabled,\n          [STATUS.value.active]: props.active,\n        },\n      ];\n\n      return (\n        <div>\n          <div ref={itemRef} class={classes} onClick={handleItemClick} onMouseover={handleMouseover}>\n            <div class={`${COMPONENT_NAME.value}-content`}>\n              <span class={`${COMPONENT_NAME.value}-text`}>{renderContent('content', 'default')}</span>\n            </div>\n            {renderSuffix()}\n          </div>\n          {props.divider ? <TDivider /> : null}\n        </div>\n      );\n    };\n  },\n});\n"],"names":["defineComponent","name","props","itemProps","path","type","String","hasChildren","Boolean","onHover","Function","setup","renderContent","useContent","itemRef","ref","useRipple","useCommonClassName","STATUS","COMPONENT_NAME","usePrefixClass","classPrefix","useGlobalIcon","ChevronRightIcon","TdChevronRightIcon","dropdownProvider","inject","injectKey","handleMenuClick","renderSuffix","_createVNode","value","handleItemClick","e","stopPropagation","disabled","data","content","onClick","handleMouseover","classes","_defineProperty","active","divider"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWA,oBAAeA,mBAAgB,CAAA;AAC7BC,EAAAA,IAAM,EAAA,eADuB;AAE7BC,EAAAA,KAAO,kCACFC,qCADE,CAAA,EAAA,EAAA,EAAA;AAELC,IAAAA,IAAM,EAAA;AACJC,MAAAA,IAAM,EAAAC,MADF;MAEJ,SAAS,EAAA,EAAA;KAJN;AAMLC,IAAAA,WAAa,EAAA;AACXF,MAAAA,IAAM,EAAAG,OADK;MAEX,SAAS,EAAA,KAAA;KARN;AAULC,IAAAA,OAAS,EAAA;AACPJ,MAAAA,IAAM,EAAAK,QAAAA;AADC,KAAA;GAZkB,CAAA;EAgB7BC,KAhB6B,EAAA,SAAA,KAAA,CAgBvBT,KAhBuB,EAgBhB;IACX,IAAMU,gBAAgBC,sBAAW,EAAjC,CAAA;IACA,IAAMC,UAAUC,OAAiB,EAAjC,CAAA;IACAC,0BAAA,CAAUF,OAAV,CAAA,CAAA;;AAEM,IAAA,IAAA,mBAAA,GAAaG,kCAAmB,EAAhC;QAAEC,MAAF,uBAAEA,MAAF,CAAA;;AACA,IAAA,IAAAC,cAAA,GAAiBC,+BAAe,iBAAhC,CAAA;IACN,IAAMC,cAAcD,8BAAe,EAAnC,CAAA;;AACA,IAAA,IAAA,cAAA,GAA6BE,kCAAc;AAAEC,MAAAA,gBAAA,EAAkBC,oCAAAA;AAApB,MAA3C;QAAQD,gBAAR,kBAAQA,gBAAR,CAAA;;AAEM,IAAA,IAAAE,gBAAA,GAAmBC,WAAOC,yBAA1B,CAAA;AACA,IAAA,IAAEC,eAAF,GAAsBH,gBAAtB,CAAEG,eAAF,CAAA;;AAEN,IAAA,IAAMC,eAAe,SAAfA,YAAe,GAAM;MAClB,OAAA3B,KAAA,CAAMK,WAAN,GAAAuB,eAAA,CAAA,gBAAA,EAAA;QAAA,OAAgDX,EAAAA,EAAAA,CAAAA,MAAAA,CAAAA,cAAA,CAAeY,KAA/D,EAAA,aAAA,CAAA;AAAA,OAAA,EAAA,IAAA,CAAA,GAAwF,IAAxF,CAAA;KADT,CAAA;;AAIM,IAAA,IAAAC,eAAA,GAAkB,SAAlBA,eAAkB,CAACC,CAAD,EAAyB;AAC/CA,MAAAA,CAAA,CAAEC,eAAF,EAAA,CAAA;;MACA,IAAI,CAAChC,KAAA,CAAMK,WAAP,IAAsB,CAACL,MAAMiC,QAAjC,EAA2C;AAAA,QAAA,IAAA,cAAA,CAAA;;AACzC,QAAA,IAAMC,IAAO,GAAA;UACXL,OAAO7B,KAAM,CAAA6B,KADF;UAEX3B,IAAM,EAAAF,KAAA,CAAME,IAAN,eAAkBF,KAAM,CAAA6B,KAAxB,CAFK;UAGXM,SAASnC,KAAM,CAAAmC,OAAAA;SAHjB,CAAA;AAKA,QAAA,CAAA,cAAA,GAAAnC,KAAA,CAAMoC,OAAN,uEAAApC,KAAA,EAAgBkC,IAAhB,EAAsB;AAAEH,UAAAA,CAAA,EAAAA,CAAAA;AAAF,SAAtB,CAAA,CAAA;QACgBL,eAAA,CAAAQ,IAAA,EAAM;AAAEH,UAAAA,CAAA,EAAAA,CAAAA;AAAF,SAAN,CAAA,CAAA;AAClB,OAAA;KAVI,CAAA;;AAaN,IAAA,IAAMM,kBAAkB,SAAlBA,eAAkB,GAAY;AAAA,MAAA,IAAA,cAAA,CAAA;;MAC5B,CAAArC,cAAAA,GAAAA,KAAA,CAAAO,OAAA,MAAA,IAAA,IAAA,cAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,cAAA,CAAA,IAAA,CAAAP,KAAA,EAAUA,MAAME,IAAhB,CAAA,CAAA;KADR,CAAA;;AAIA,IAAA,OAAO,YAAM;AAAA,MAAA,IAAA,IAAA,CAAA;;AACX,MAAA,IAAMoC,OAAU,GAAA,CACdrB,cAAe,CAAAY,KADD,GAAA,IAAA,GAAA,EAAA,EAAAU,mCAAA,CAAA,IAAA,EAAA,EAAA,CAAA,MAAA,CAGRpB,WAAY,CAAAU,KAHJ,EAG+B7B,mBAAAA,CAAAA,EAAAA,KAAM,CAAAK,WAHrC,6CAIXW,MAAA,CAAOa,KAAP,CAAaI,QAJF,EAIajC,KAAM,CAAAiC,QAJnB,CAKXjB,EAAAA,mCAAAA,CAAAA,IAAAA,EAAAA,MAAA,CAAOa,KAAP,CAAaW,MALF,EAKWxC,KAAM,CAAAwC,MALjB,CAAhB,EAAA,IAAA,EAAA,CAAA;AASA,MAAA,OAAAZ,eAAA,CAAA,KAAA,EAAA,IAAA,EAAA,CAAAA,eAAA,CAAA,KAAA,EAAA;AAAA,QAAA,KAAA,EAEchB,OAFd;AAAA,QAAA,OAAA,EAE8B0B,OAF9B;AAAA,QAAA,SAAA,EAEgDR,eAFhD;QAAA,aAE8EO,EAAAA,eAAAA;AAF9E,OAAA,EAAA,CAAAT,eAAA,CAAA,KAAA,EAAA;QAAA,OAGqBX,EAAAA,EAAAA,CAAAA,MAAAA,CAAAA,cAAe,CAAAY,KAHpC,EAAA,UAAA,CAAA;AAAA,OAAA,EAAA,CAAAD,eAAA,CAAA,MAAA,EAAA;QAAA,OAIwBX,EAAAA,EAAAA,CAAAA,MAAAA,CAAAA,cAAA,CAAeY,KAJvC,EAAA,OAAA,CAAA;AAAA,OAAA,EAAA,CAIsDnB,aAAc,CAAA,SAAA,EAAW,SAAX,CAJpE,CAAA,CAAA,CAAA,CAAA,EAMOiB,YAAa,EANpB,CAQK3B,CAAAA,EAAAA,KAAM,CAAAyC,OAAN,wDAA+B,IARpC,CAAA,CAAA,CAAA;KAVF,CAAA;AAsBF,GAAA;AAxE6B,CAAA,CAA/B;;;;"}