{"version":3,"file":"guide.js","sources":["../../src/guide/guide.tsx"],"sourcesContent":["import { defineComponent, computed, nextTick, onMounted, ref, toRefs, watch } from 'vue';\n\nimport props from './props';\n\nimport { TdGuideProps, GuideCrossProps } from './type';\n\nimport { scrollToParentVisibleArea, getRelativePosition, getTargetElm, scrollToElm } from './utils';\n\nimport setStyle from '../_common/js/utils/set-style';\n\nimport TransferDom from '../utils/transfer-dom';\nimport { addClass, removeClass, isFixed, getWindowScroll } from '../utils/dom';\n\nimport useVModel from '../hooks/useVModel';\nimport { useTNodeJSX } from '../hooks/tnode';\nimport { usePrefixClass } from '../hooks/useConfig';\n\nimport Button from '../button';\nimport Popup from '../popup';\n\nexport default defineComponent({\n  name: 'TGuide',\n  directives: { TransferDom },\n  props,\n  setup(props) {\n    const renderTNodeJSX = useTNodeJSX();\n    const COMPONENT_NAME = usePrefixClass('guide');\n    const LOCK_CLASS = usePrefixClass('guide--lock');\n\n    const { current, modelValue, hideCounter, hidePrev, hideSkip, steps, zIndex } = toRefs(props);\n    const [innerCurrent, setInnerCurrent] = useVModel(\n      current,\n      modelValue,\n      props.defaultCurrent,\n      props.onChange,\n      'current',\n    );\n\n    // 覆盖层，用于覆盖所有元素\n    const overlayLayerRef = ref<HTMLElement>();\n    // 高亮层，用于高亮元素\n    const highlightLayerRef = ref<HTMLElement>();\n    // 提示层，用于高亮元素\n    const referenceLayerRef = ref<HTMLElement>();\n    // 当前高亮的元素\n    const currentHighlightLayerElm = ref<HTMLElement>();\n    // 下一个高亮的元素\n    const nextHighlightLayerElm = ref<HTMLElement>();\n    // dialog wrapper ref\n    const dialogWrapperRef = ref<HTMLElement>();\n    // dialog ref\n    const dialogTooltipRef = ref<HTMLElement>();\n    // 是否开始展示\n    const actived = ref<boolean>(false);\n    // 步骤总数\n    const stepsTotal = computed(() => steps.value.length);\n    // 当前步骤的信息\n    const currentStepInfo = computed(() => steps.value[innerCurrent.value]);\n    // 当前是否为 popup\n    const isPopup = computed(() => getCurrentCrossProps('mode') === 'popup');\n    // 当前元素位置状态\n    const currentElmIsFixed = computed(() => isFixed(currentHighlightLayerElm.value || document.body));\n    // 获取当前步骤的所有属性 用户当前步骤设置 > 用户全局设置的 > 默认值\n    const getCurrentCrossProps = <Key extends keyof GuideCrossProps>(propsName: Key) =>\n      currentStepInfo.value[propsName] ?? props[propsName];\n\n    // 设置高亮层的位置\n    const setHighlightLayerPosition = (highlighLayer: HTMLElement) => {\n      let { top, left } = getRelativePosition(nextHighlightLayerElm.value, currentHighlightLayerElm.value);\n      let { width, height } = nextHighlightLayerElm.value.getBoundingClientRect();\n      const highlightPadding = getCurrentCrossProps('highlightPadding');\n\n      if (isPopup.value) {\n        width += highlightPadding * 2;\n        height += highlightPadding * 2;\n        top -= highlightPadding;\n        left -= highlightPadding;\n      } else {\n        const { scrollTop, scrollLeft } = getWindowScroll();\n        top += scrollTop;\n        left += scrollLeft;\n      }\n\n      setStyle(highlighLayer, {\n        width: `${width}px`,\n        height: `${height}px`,\n        top: `${top}px`,\n        left: `${left}px`,\n      });\n    };\n\n    const showPopupGuide = () => {\n      const currentElement = getTargetElm(currentStepInfo.value.element);\n      nextHighlightLayerElm.value = currentElement;\n\n      nextTick(() => {\n        scrollToParentVisibleArea(nextHighlightLayerElm.value);\n        setHighlightLayerPosition(highlightLayerRef.value);\n        setHighlightLayerPosition(referenceLayerRef.value);\n        scrollToElm(nextHighlightLayerElm.value);\n        currentHighlightLayerElm.value = currentElement;\n      });\n    };\n\n    const destroyTooltipElm = () => {\n      referenceLayerRef.value?.parentNode.removeChild(referenceLayerRef.value);\n    };\n\n    const showDialogGuide = () => {\n      nextTick(() => {\n        const currentElement = dialogTooltipRef.value;\n        nextHighlightLayerElm.value = currentElement;\n        scrollToParentVisibleArea(nextHighlightLayerElm.value);\n        setHighlightLayerPosition(highlightLayerRef.value);\n        scrollToElm(nextHighlightLayerElm.value);\n        currentHighlightLayerElm.value = currentElement;\n      });\n    };\n\n    const destroyDialogTooltipElm = () => {\n      dialogTooltipRef.value?.parentNode.removeChild(dialogTooltipRef.value);\n      dialogWrapperRef.value?.parentNode.removeChild(dialogWrapperRef.value);\n    };\n\n    const showGuide = () => {\n      if (isPopup.value) {\n        destroyDialogTooltipElm();\n        showPopupGuide();\n      } else {\n        destroyTooltipElm();\n        showDialogGuide();\n      }\n    };\n\n    const destroyGuide = () => {\n      destroyTooltipElm();\n      destroyDialogTooltipElm();\n      highlightLayerRef.value?.parentNode.removeChild(highlightLayerRef.value);\n      overlayLayerRef.value?.parentNode.removeChild(overlayLayerRef.value);\n      removeClass(document.body, LOCK_CLASS.value);\n    };\n\n    const handleSkip = (e: MouseEvent) => {\n      const total = stepsTotal.value;\n      actived.value = false;\n      setInnerCurrent(-1, { e, total });\n      props.onSkip?.({ e, current: -1, total });\n    };\n\n    const handlePrev = (e: MouseEvent) => {\n      const total = stepsTotal.value;\n      setInnerCurrent(innerCurrent.value - 1, { e, total });\n      props.onPrevStepClick?.({\n        e,\n        prev: innerCurrent.value - 1,\n        current: innerCurrent.value,\n        total,\n      });\n    };\n\n    const handleNext = (e: MouseEvent) => {\n      const total = stepsTotal.value;\n      setInnerCurrent(innerCurrent.value + 1, { e, total });\n      props.onNextStepClick?.({\n        e,\n        next: innerCurrent.value + 1,\n        current: innerCurrent.value,\n        total,\n      });\n    };\n\n    const handleFinish = (e: MouseEvent) => {\n      const total = stepsTotal.value;\n      actived.value = false;\n      setInnerCurrent(-1, { e, total });\n      props.onFinish?.({ e, current: -1, total });\n    };\n\n    const initGuide = () => {\n      if (innerCurrent.value >= 0 && innerCurrent.value < steps.value.length) {\n        if (!actived.value) {\n          actived.value = true;\n          addClass(document.body, LOCK_CLASS.value);\n        }\n        showGuide();\n      }\n    };\n\n    watch(innerCurrent, (val) => {\n      if (val >= 0 && val < steps.value.length) {\n        initGuide();\n      } else {\n        actived.value = false;\n        destroyGuide();\n      }\n    });\n\n    onMounted(() => {\n      initGuide();\n    });\n\n    return () => {\n      const renderOverlayLayer = () => (\n        <div\n          ref={overlayLayerRef}\n          v-transfer-dom=\"body\"\n          class={`${COMPONENT_NAME.value}__overlay`}\n          style={{ zIndex: zIndex.value - 2 }}\n        />\n      );\n\n      const renderHighlightLayer = () => {\n        const style = { zIndex: zIndex.value - 1 };\n        const highlightClass = [\n          `${COMPONENT_NAME.value}__highlight`,\n          `${COMPONENT_NAME.value}__highlight--${isPopup.value ? 'popup' : 'dialog'}`,\n          `${COMPONENT_NAME.value}--${currentElmIsFixed.value && isPopup.value ? 'fixed' : 'absolute'}`,\n        ];\n        const showOverlay = getCurrentCrossProps('showOverlay');\n        const maskClass = [`${COMPONENT_NAME.value}__highlight--${showOverlay ? 'mask' : 'nomask'}`];\n        const { highlightContent } = currentStepInfo.value;\n        const showHighlightContent = highlightContent && isPopup.value;\n\n        return (\n          <div\n            ref={highlightLayerRef}\n            v-transfer-dom=\"body\"\n            class={highlightClass.concat(showHighlightContent ? highlightClass : maskClass)}\n            style={style}\n          >\n            {showHighlightContent && <highlightContent class={highlightClass.concat(maskClass)} style={style} />}\n          </div>\n        );\n      };\n\n      const renderCounter = () => {\n        const popupSlotCounter = renderTNodeJSX('counter', {\n          params: { total: stepsTotal.value, current: innerCurrent.value },\n        });\n\n        const popupDefaultCounter = (\n          <div class={`${COMPONENT_NAME.value}__counter`}>\n            {popupSlotCounter || (\n              <span>\n                {innerCurrent.value + 1}/{stepsTotal.value}\n              </span>\n            )}\n          </div>\n        );\n        return <>{!hideCounter.value && popupDefaultCounter}</>;\n      };\n\n      const renderAction = (mode: TdGuideProps['mode']) => {\n        const isLast = innerCurrent.value === stepsTotal.value - 1;\n        const isFirst = innerCurrent.value === 0;\n        const buttonSize = mode === 'popup' ? 'small' : 'medium';\n\n        return (\n          <div class={`${COMPONENT_NAME.value}__action`}>\n            {!hideSkip.value && !isLast && (\n              <Button\n                class={`${COMPONENT_NAME.value}__skip`}\n                theme=\"default\"\n                size={buttonSize}\n                variant=\"base\"\n                onClick={handleSkip}\n                {...getCurrentCrossProps('skipButtonProps')}\n              />\n            )}\n            {!hidePrev.value && !isFirst && (\n              <Button\n                class={`${COMPONENT_NAME.value}__prev`}\n                theme=\"primary\"\n                size={buttonSize}\n                variant=\"base\"\n                onClick={handlePrev}\n                {...getCurrentCrossProps('prevButtonProps')}\n              />\n            )}\n            {!isLast && (\n              <Button\n                class={`${COMPONENT_NAME.value}__next`}\n                theme=\"primary\"\n                size={buttonSize}\n                variant=\"base\"\n                onClick={handleNext}\n                {...getCurrentCrossProps('nextButtonProps')}\n              />\n            )}\n            {isLast && (\n              <Button\n                class={`${COMPONENT_NAME.value}__finish`}\n                theme=\"primary\"\n                size={buttonSize}\n                variant=\"base\"\n                onClick={handleFinish}\n                {...props.finishButtonProps}\n              />\n            )}\n          </div>\n        );\n      };\n\n      const renderTooltipBody = () => {\n        const title = <div class={`${COMPONENT_NAME.value}__title`}>{currentStepInfo.value.title}</div>;\n        const { body: descBody } = currentStepInfo.value;\n        let renderDesc;\n        if (typeof descBody === 'string') {\n          renderDesc = descBody;\n        } else {\n          renderDesc = <descBody />;\n        }\n        const desc = (\n          <div class={`${COMPONENT_NAME.value}__desc`}>{typeof descBody === 'string' ? descBody : <descBody />}</div>\n        );\n\n        return (\n          <>\n            {title}\n            {desc}\n          </>\n        );\n      };\n\n      const renderPopupContent = () => {\n        const footerClasses = [`${COMPONENT_NAME.value}__footer`, `${COMPONENT_NAME.value}__footer--popup`];\n        const action = (\n          <div class={footerClasses}>\n            {renderCounter()}\n            {renderAction('popup')}\n          </div>\n        );\n\n        return (\n          <div class={`${COMPONENT_NAME.value}__tooltip`}>\n            {renderTooltipBody()}\n            {action}\n          </div>\n        );\n      };\n\n      const renderPopupGuide = () => {\n        const { content } = currentStepInfo.value;\n        let renderBody;\n        if (content) {\n          const contentProps = {\n            handlePrev,\n            handleNext,\n            handleSkip,\n            handleFinish,\n            current: innerCurrent.value,\n            total: stepsTotal.value,\n          };\n          renderBody = () => <content {...contentProps} />;\n        } else {\n          renderBody = renderPopupContent;\n        }\n\n        const classes = [\n          `${COMPONENT_NAME.value}__reference`,\n          `${COMPONENT_NAME.value}--${currentElmIsFixed.value ? 'fixed' : 'absolute'}`,\n        ];\n\n        return (\n          <Popup\n            visible={true}\n            v-slots={{ content: renderBody }}\n            show-arrow={!content}\n            zIndex={zIndex.value}\n            overlayClassName={currentStepInfo.value.stepOverlayClass}\n            overlayInnerClassName={{ [`${COMPONENT_NAME.value}__popup--content`]: !!content }}\n            placement={currentStepInfo.value.placement}\n          >\n            <div ref={referenceLayerRef} v-transfer-dom=\"body\" class={classes} />\n          </Popup>\n        );\n      };\n\n      const renderDialogGuide = () => {\n        const style = { zIndex: zIndex.value };\n        const wrapperClasses = [\n          `${COMPONENT_NAME.value}__wrapper`,\n          { [`${COMPONENT_NAME.value}__wrapper--center`]: currentStepInfo.value.placement === 'center' },\n        ];\n        const dialogClasses = [\n          `${COMPONENT_NAME.value}__reference`,\n          `${COMPONENT_NAME.value}--absolute`,\n          `${COMPONENT_NAME.value}__dialog`,\n          {\n            [`${COMPONENT_NAME.value}__dialog--nomask`]: !getCurrentCrossProps('showOverlay'),\n            [currentStepInfo.value.stepOverlayClass]: !!currentStepInfo.value.stepOverlayClass,\n          },\n        ];\n        const footerClasses = [`${COMPONENT_NAME.value}__footer`, `${COMPONENT_NAME.value}__footer--popup`];\n        return (\n          <>\n            <div ref={dialogWrapperRef} v-transfer-dom=\"body\" class={wrapperClasses} style={style}>\n              <div ref={dialogTooltipRef} class={dialogClasses}>\n                {renderTooltipBody()}\n                <div class={footerClasses}>\n                  {renderCounter()}\n                  {renderAction('dialog')}\n                </div>\n              </div>\n            </div>\n          </>\n        );\n      };\n\n      const renderGuide = () => {\n        return (\n          <>\n            {renderOverlayLayer()}\n            {renderHighlightLayer()}\n            {isPopup.value ? renderPopupGuide() : renderDialogGuide()}\n          </>\n        );\n      };\n\n      return <>{actived.value && renderGuide()}</>;\n    };\n  },\n});\n"],"names":["defineComponent","name","directives","TransferDom","props","setup","renderTNodeJSX","useTNodeJSX","COMPONENT_NAME","usePrefixClass","LOCK_CLASS","toRefs","current","modelValue","hideCounter","hidePrev","hideSkip","steps","zIndex","useVModel","defaultCurrent","onChange","_slicedToArray","innerCurrent","setInnerCurrent","overlayLayerRef","ref","highlightLayerRef","referenceLayerRef","currentHighlightLayerElm","nextHighlightLayerElm","dialogWrapperRef","dialogTooltipRef","actived","stepsTotal","computed","value","length","currentStepInfo","isPopup","getCurrentCrossProps","currentElmIsFixed","isFixed","document","body","propsName","setHighlightLayerPosition","highlighLayer","getRelativePosition","top","left","getBoundingClientRect","width","height","highlightPadding","getWindowScroll","scrollTop","scrollLeft","setStyle","showPopupGuide","currentElement","getTargetElm","element","nextTick","scrollToParentVisibleArea","scrollToElm","destroyTooltipElm","parentNode","removeChild","showDialogGuide","destroyDialogTooltipElm","showGuide","destroyGuide","removeClass","handleSkip","e","total","onSkip","handlePrev","onPrevStepClick","prev","handleNext","onNextStepClick","next","handleFinish","onFinish","initGuide","addClass","watch","val","onMounted","renderOverlayLayer","_withDirectives","_createVNode","_resolveDirective","renderHighlightLayer","style","highlightClass","showOverlay","maskClass","highlightContent","showHighlightContent","concat","renderCounter","popupSlotCounter","params","popupDefaultCounter","_Fragment","renderAction","mode","isLast","isFirst","buttonSize","Button","_mergeProps","finishButtonProps","renderTooltipBody","title","descBody","renderDesc","desc","renderPopupContent","footerClasses","action","renderPopupGuide","content","renderBody","contentProps","classes","Popup","stepOverlayClass","_defineProperty","placement","renderDialogGuide","wrapperClasses","dialogClasses","renderGuide"],"mappings":"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"}