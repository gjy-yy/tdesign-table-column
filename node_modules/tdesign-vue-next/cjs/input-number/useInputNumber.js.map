{"version":3,"file":"useInputNumber.js","sources":["../../src/input-number/useInputNumber.tsx"],"sourcesContent":["import { computed, onMounted, ref, toRefs, watch } from 'vue';\nimport useCommonClassName from '../hooks/useCommonClassName';\nimport useVModel from '../hooks/useVModel';\nimport { InputNumberValue, TdInputNumberProps } from './type';\n// 计算逻辑，统一到 common 中，方便各框架复用（如超过 16 位的大数处理）\nimport {\n  canAddNumber,\n  canInputNumber,\n  canReduceNumber,\n  formatToNumber,\n  getMaxOrMinValidateResult,\n  getStepValue,\n} from '../_common/js/input-number/number';\nimport { useFormDisabled } from '../form/hooks';\n\n/**\n * 独立一个组件 Hook 方便用户直接使用相关逻辑 自定义任何样式的数字输入框\n */\nexport default function useInputNumber(props: TdInputNumberProps) {\n  const { classPrefix, sizeClassNames, statusClassNames } = useCommonClassName();\n  const { value, modelValue, max, min } = toRefs(props);\n  // 统一处理受控、非受控、语法糖 v-model 等\n  const [tValue, setTValue] = useVModel(value, modelValue, props.defaultValue, props.onChange);\n  const inputRef = ref();\n  const userInput = ref('');\n  const displayValue = ref();\n\n  const tDisabled = useFormDisabled();\n\n  const isError = ref<'exceed-maximum' | 'below-minimum'>();\n\n  const disabledReduce = computed(\n    () => tDisabled.value || !canReduceNumber(tValue.value, props.min, props.largeNumber),\n  );\n\n  const disabledAdd = computed(() => tDisabled.value || !canAddNumber(tValue.value, props.max, props.largeNumber));\n\n  const wrapClasses = computed(() => [\n    `${classPrefix.value}-input-number`,\n    sizeClassNames[props.size],\n    {\n      [statusClassNames.disabled]: tDisabled.value,\n      [`${classPrefix.value}-is-controls-right`]: props.theme === 'column',\n      [`${classPrefix.value}-input-number--${props.theme}`]: props.theme,\n      [`${classPrefix.value}-input-number--auto-width`]: props.autoWidth,\n    },\n  ]);\n\n  const reduceClasses = computed(() => [\n    `${classPrefix.value}-input-number__decrease`,\n    { [statusClassNames.disabled]: disabledReduce.value },\n  ]);\n\n  const addClasses = computed(() => [\n    `${classPrefix.value}-input-number__increase`,\n    { [statusClassNames.disabled]: disabledAdd.value },\n  ]);\n\n  const getUserInput = (value: InputNumberValue) => {\n    if (!value && value !== 0) return '';\n    let inputStr = String(value);\n    if (!inputRef.value?.inputRef?.contains(document.activeElement)) {\n      inputStr = String(\n        formatToNumber(inputStr, {\n          decimalPlaces: props.decimalPlaces,\n          largeNumber: props.largeNumber,\n        }),\n      );\n      if (props.format) {\n        inputStr = String(props.format(value, { fixedNumber: inputStr }));\n      }\n    }\n    return inputStr;\n  };\n\n  watch(\n    tValue,\n    (val) => {\n      const inputValue = [undefined, null].includes(val) ? '' : String(val);\n      userInput.value = getUserInput(inputValue);\n    },\n    { immediate: true },\n  );\n\n  onMounted(() => {\n    userInput.value = getUserInput(tValue.value);\n  });\n\n  watch(\n    [tValue, max, min],\n    () => {\n      // @ts-ignore 没有输入完成，则无需校验\n      if ([undefined, '', null].includes(tValue.value)) return;\n      const error = getMaxOrMinValidateResult({\n        value: tValue.value,\n        largeNumber: props.largeNumber,\n        max: props.max,\n        min: props.min,\n      });\n      isError.value = error;\n      props.onValidate?.({ error });\n    },\n    { immediate: true },\n  );\n\n  const handleStepValue = (op: 'add' | 'reduce') =>\n    getStepValue({\n      op,\n      step: props.step,\n      max: props.max,\n      min: props.min,\n      lastValue: tValue.value,\n      largeNumber: props.largeNumber,\n    });\n\n  const handleReduce = (e: KeyboardEvent | MouseEvent) => {\n    if (disabledReduce.value || props.readonly) return;\n    const newValue = handleStepValue('reduce');\n    setTValue(newValue, { type: 'reduce', e });\n  };\n\n  const handleAdd = (e: KeyboardEvent | MouseEvent) => {\n    if (disabledAdd.value || props.readonly) return;\n    const newValue = handleStepValue('add');\n    setTValue(newValue, { type: 'add', e });\n  };\n\n  const onInnerInputChange = (val: string, ctx: { e: InputEvent }) => {\n    if (!canInputNumber(val, props.largeNumber)) return;\n    userInput.value = val;\n    // 大数-字符串；普通数-数字。此处是了将 2e3，2.1e3 等内容转换为数字\n    const newVal = props.largeNumber || !val ? val : Number(val);\n    if (newVal !== tValue.value && !['-', '.', 'e', 'E'].includes(val.slice(-1))) {\n      setTValue(newVal, { type: 'input', e: ctx.e });\n    }\n  };\n\n  const handleBlur = (value: string, ctx: { e: FocusEvent }) => {\n    userInput.value = getUserInput(tValue.value);\n    const newValue = formatToNumber(value, {\n      decimalPlaces: props.decimalPlaces,\n      largeNumber: props.largeNumber,\n    });\n    if (newValue !== value && String(newValue) !== value) {\n      setTValue(newValue, { type: 'blur', e: ctx.e });\n    }\n    props.onBlur?.(newValue, ctx);\n  };\n\n  const handleFocus = (value: string, ctx: { e: FocusEvent }) => {\n    userInput.value = tValue.value || tValue.value === 0 ? String(tValue.value) : '';\n    props.onFocus?.(value, ctx);\n  };\n\n  const handleKeydown = (value: string, ctx: { e: KeyboardEvent }) => {\n    const { e } = ctx;\n    const keyEvent = {\n      ArrowUp: handleAdd,\n      ArrowDown: handleReduce,\n    };\n    const code = e.code || e.key;\n    if (keyEvent[code] !== undefined) {\n      keyEvent[code](e);\n    }\n    props.onKeydown?.(value, ctx);\n  };\n\n  const handleKeyup = (value: string, ctx: { e: KeyboardEvent }) => {\n    props.onKeyup?.(value, ctx);\n  };\n\n  const handleKeypress = (value: string, ctx: { e: KeyboardEvent }) => {\n    props.onKeypress?.(value, ctx);\n  };\n\n  const handleEnter = (value: string, ctx: { e: KeyboardEvent }) => {\n    userInput.value = getUserInput(value);\n    const newValue = formatToNumber(value, {\n      decimalPlaces: props.decimalPlaces,\n      largeNumber: props.largeNumber,\n    });\n    if (newValue !== value && String(newValue) !== value) {\n      setTValue(newValue, { type: 'enter', e: ctx.e });\n    }\n    props.onEnter?.(newValue, ctx);\n  };\n\n  const focus = () => {\n    (inputRef.value as any).focus();\n  };\n\n  const blur = () => {\n    (inputRef.value as any).blur();\n  };\n\n  const listeners = {\n    onBlur: handleBlur,\n    onFocus: handleFocus,\n    onKeydown: handleKeydown,\n    onKeyup: handleKeyup,\n    onKeypress: handleKeypress,\n    onEnter: handleEnter,\n    onClick: focus,\n  };\n\n  return {\n    classPrefix,\n    wrapClasses,\n    reduceClasses,\n    addClasses,\n    displayValue,\n    tDisabled,\n    isError,\n    listeners,\n    userInput,\n    tValue,\n    inputRef,\n    focus,\n    blur,\n    handleReduce,\n    handleAdd,\n    onInnerInputChange,\n  };\n}\n"],"names":["useInputNumber","props","useCommonClassName","classPrefix","sizeClassNames","statusClassNames","toRefs","value","modelValue","max","min","useVModel","defaultValue","onChange","_slicedToArray","tValue","setTValue","inputRef","ref","userInput","displayValue","tDisabled","useFormDisabled","isError","disabledReduce","computed","canReduceNumber","largeNumber","disabledAdd","canAddNumber","wrapClasses","size","disabled","_defineProperty","theme","autoWidth","reduceClasses","addClasses","getUserInput","inputStr","String","contains","document","activeElement","formatToNumber","decimalPlaces","format","fixedNumber","watch","val","inputValue","includes","immediate","onMounted","error","getMaxOrMinValidateResult","onValidate","handleStepValue","op","getStepValue","step","lastValue","handleReduce","e","readonly","newValue","type","handleAdd","onInnerInputChange","ctx","canInputNumber","newVal","Number","slice","handleBlur","onBlur","handleFocus","onFocus","handleKeydown","keyEvent","ArrowUp","ArrowDown","code","key","onKeydown","handleKeyup","onKeyup","handleKeypress","onKeypress","handleEnter","onEnter","focus","blur","listeners","onClick"],"mappings":"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"}